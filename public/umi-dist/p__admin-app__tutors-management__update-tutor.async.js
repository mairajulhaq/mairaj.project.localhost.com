"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[62],{59954:function(ce,$,e){e.r($);var J=e(97857),S=e.n(J),Q=e(5574),C=e.n(Q),X=e(15009),_=e.n(X),w=e(99289),m=e.n(w),k=e(6110),c=e(34994),q=e(2236),ee=e(38345),R=e(5966),re=e(50335),ae=e(90672),G=e(2453),oe=e(47019),z=e(71230),p=e(15746),N=e(83622),ne=e(95715),le=e(66476),te=e(51042),se=e(88484),g=e(67294),h=e(76772),_e=e(77181),ie=e(60352),ue=e(58547),r=e(85893),H=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(E){setTimeout(function(){E(!0)},v)})},V={image_url:"",name:"",email:"",date_of_birth:"",mobile_no:"",bio_data:""},de=function(){var I=m()(_()().mark(function v(E,o){var O;return _()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",o),s.prev=2,O={image_url:E,name:o==null?void 0:o.name,email:o==null?void 0:o.email,date_of_birth:o==null?void 0:o.date_of_birth,mobile_no:o==null?void 0:o.mobile_no,bio_data:o==null?void 0:o.bio_data},s.next=6,(0,h.request)("/api/users/"+(o==null?void 0:o.user_id),{method:"PUT",data:O}).then(function(){var P=m()(_()().mark(function D(i){var j,M;return _()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:console.log("api_response"),console.log(i),(i==null||(j=i.data)===null||j===void 0?void 0:j.id)>0&&(G.ZP.success("Submitted successfully"),h.history.push("/admin-app/tutors/edit/"+(i==null||(M=i.data)===null||M===void 0?void 0:M.id)));case 3:case"end":return u.stop()}},D)}));return function(D){return P.apply(this,arguments)}}()).catch(function(P){console.log(P)});case 6:return s.abrupt("return",s.sent);case 9:s.prev=9,s.t0=s.catch(2),console.log("api_response - error"),console.log(s.t0);case 13:return s.abrupt("return",!0);case 14:case"end":return s.stop()}},v,null,[[2,9]])}));return function(E,o){return I.apply(this,arguments)}}(),me=function(){var v=(0,h.useParams)(),E=oe.Z.useForm(),o=C()(E,1),O=o[0],Y=(0,g.useRef)(),s=(0,g.useRef)(),P=(0,g.useState)(0),D=C()(P,2),i=D[0],j=D[1],M=(0,g.useState)("http://mairaj.project.localhost.com/images/default/user-profile-image.png"),A=C()(M,2),u=A[0],B=A[1];return(0,g.useEffect)(function(){j(v.id)},[]),(0,r.jsxs)(k._z,{children:[(0,r.jsxs)(z.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(p.Z,{flex:"auto"}),(0,r.jsx)(p.Z,{flex:"100px",children:(0,r.jsxs)(N.ZP,{type:"primary",onClick:function(){h.history.push("/admin-app/tutors/new")},style:{marginBlockEnd:15},children:[(0,r.jsx)(te.Z,{})," New"]},"new")})]}),(0,r.jsxs)(c.A,{layout:"vertical",grid:!0,form:O,initialValues:V,params:{user_id:i},request:m()(_()().mark(function d(){var a,l=arguments;return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=l.length>0&&l[0]!==void 0?l[0]:{},console.log("proform-params"),console.log(a),(a==null?void 0:a.user_id)!=0){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,H(2e3);case 7:return t.next=9,(0,h.request)("/api/users/"+(a==null?void 0:a.user_id),{method:"GET"}).then(function(){var b=m()(_()().mark(function f(n){var U,W,L,K,y,Z,F;return _()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return console.log("api_response"),console.log(n),B(n==null||(U=n.data)===null||U===void 0?void 0:U.image_url),T.abrupt("return",S()(S()({},V),{},{image_url:n==null||(W=n.data)===null||W===void 0?void 0:W.image_url,name:n==null||(L=n.data)===null||L===void 0?void 0:L.name,email:n==null||(K=n.data)===null||K===void 0?void 0:K.email,date_of_birth:n==null||(y=n.data)===null||y===void 0?void 0:y.date_of_birth,mobile_no:n==null||(Z=n.data)===null||Z===void 0?void 0:Z.mobile_no,bio_data:n==null||(F=n.data)===null||F===void 0?void 0:F.bio_data}));case 4:case"end":return T.stop()}},f)}));return function(f){return b.apply(this,arguments)}}()).catch(function(b){console.log(b)});case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},d)})),onFinish:function(){var d=m()(_()().mark(function a(l){return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(l),t.next=3,H(1e3);case 3:return l.user_id=i,l.image_url=u,t.next=7,de(u,l);case 7:case"end":return t.stop()}},a)}));return function(a){return d.apply(this,arguments)}}(),formProps:{validateMessages:{required:"This is required"}},submitter:{render:function(a,l){return(0,r.jsx)(q.S,{children:l})}},children:[(0,r.jsx)(ee.Z,{title:"BIO Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(a){return console.log(a)},children:(0,r.jsxs)(z.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(p.Z,{span:6,children:(0,r.jsxs)(c.A.Group,{size:24,children:[(0,r.jsx)(p.Z,{span:24,children:(0,r.jsx)(ne.Z,{width:"100%",height:200,src:u,fallback:u!==""||u===null?u:"http://mairaj.project.localhost.com/images/default/user-profile-image.png"})}),(0,r.jsx)(p.Z,{span:24,style:{textAlign:"center"},children:(0,r.jsx)(c.A.Item,{name:"image_url",getValueFromEvent:ue.h,children:(0,r.jsx)(le.Z,{name:"file",onChange:function(a){if(console.log("file - onChange - info"),console.log(a),a.file.status!=="uploading"){if(a.file.status=="removed"&&B(""),a.file.status==="done"){var l;B(a==null||(l=a.file)===null||l===void 0||(l=l.response)===null||l===void 0?void 0:l.url)}a.file.status==="error"&&G.ZP.error("".concat(a.file.name," file upload failed."))}},maxCount:1,action:"/api/file-manager/upload",data:{directory:"users"},onRemove:function(a){console.log("file is removed"),console.log(a),(0,h.request)("/api/file-manager/delete",{method:"DELETE",data:{filename:a==null?void 0:a.name,directory:"users"}}).then(function(){var l=m()(_()().mark(function x(t){return _()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:console.log("api_response"),console.log(t);case 2:case"end":return f.stop()}},x)}));return function(x){return l.apply(this,arguments)}}())},children:(0,r.jsx)(N.ZP,{type:"primary",icon:(0,r.jsx)(se.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(a){},children:"Change Image"})})})})]})}),(0,r.jsxs)(p.Z,{span:18,children:[(0,r.jsxs)(c.A.Group,{size:24,children:[(0,r.jsx)(R.Z,{name:"name",label:"Name",placeholder:"Type Your Name",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(R.Z,{label:"Email",name:"email",placeholder:"info@example.com etc.",rules:[{required:!0}],disabled:!0,colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsxs)(c.A.Group,{size:24,children:[(0,r.jsx)(re.Z,{label:"Date of Birth",name:"date_of_birth",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(R.Z,{name:"mobile_no",label:"Mobile No",placeholder:"Type Your Mobile No",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsx)(c.A.Group,{size:24,children:(0,r.jsx)(ae.Z,{name:"bio_data",label:"Biographical Info",fieldProps:{rows:6},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})]})]})}),(0,r.jsx)(_e.Z,{qualificationsTableRef:Y,tutorID:i}),",",(0,r.jsx)(ie.Z,{experiencesTableRef:s,tutorID:i})]})]})};$.default=me}}]);

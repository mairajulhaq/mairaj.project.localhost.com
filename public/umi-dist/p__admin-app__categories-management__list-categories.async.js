"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[517],{82061:function(j,m,e){var d=e(1413),s=e(67294),h=e(47046),t=e(91146),g=function(p,E){return s.createElement(t.Z,(0,d.Z)((0,d.Z)({},p),{},{ref:E,icon:h.Z}))},l=s.forwardRef(g);m.Z=l},47389:function(j,m,e){var d=e(1413),s=e(67294),h=e(27363),t=e(91146),g=function(p,E){return s.createElement(t.Z,(0,d.Z)((0,d.Z)({},p),{},{ref:E,icon:h.Z}))},l=s.forwardRef(g);m.Z=l},51042:function(j,m,e){var d=e(1413),s=e(67294),h=e(42110),t=e(91146),g=function(p,E){return s.createElement(t.Z,(0,d.Z)((0,d.Z)({},p),{},{ref:E,icon:h.Z}))},l=s.forwardRef(g);m.Z=l},68280:function(j,m,e){e.r(m),e.d(m,{default:function(){return H},waitTime:function(){return K},waitTimePromise:function(){return B}});var d=e(97857),s=e.n(d),h=e(15009),t=e.n(h),g=e(99289),l=e.n(g),M=e(47389),p=e(51042),E=e(6110),W=e(91319),w=e(95715),x=e(83622),A=e(2453),P=e(76772),Y=e(27484),L=e.n(Y),F=e(67294),_=e(86738),z=e(63783),$=e(82061),n=e(85893),G=function(a){var f=a.rowId,i=a.onFinish;return(0,n.jsx)(_.Z,{title:"Delete the Category",description:"Are you sure you want to delete this Category?",icon:(0,n.jsx)(z.Z,{style:{color:"red"}}),placement:"left",onConfirm:l()(t()().mark(function Z(){return t()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,P.request)("/api/categories/"+f,{method:"DELETE"}).then(function(R){R.status===!0?i({status:!0,text_message:"Category deleted successfully"}):i({status:!1,text_message:"Failed to delete Category: Invalid response"})});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},Z)})),okText:"Yes",cancelText:"No",children:(0,n.jsx)(x.ZP,{danger:!0,children:(0,n.jsx)($.Z,{})},"deletable")})},N=G,B=function(){var I=l()(t()().mark(function a(){var f,i=arguments;return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return f=i.length>0&&i[0]!==void 0?i[0]:100,o.abrupt("return",new Promise(function(u){setTimeout(function(){u(!0)},f)}));case 2:case"end":return o.stop()}},a)}));return function(){return I.apply(this,arguments)}}(),K=function(){var I=l()(t()().mark(function a(){var f,i=arguments;return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return f=i.length>0&&i[0]!==void 0?i[0]:100,o.next=3,B(f);case 3:case"end":return o.stop()}},a)}));return function(){return I.apply(this,arguments)}}(),Q=function(){var a=(0,P.useModel)("@@initialState"),f=a.initialState,i=a.loading,Z=a.refresh,o=a.setInitialState;console.log("initialState"),console.log(f),console.log("loading"),console.log(i);var u=(0,F.useRef)(),R=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"Title",key:"table-column-title",copyable:!0,hideInSearch:!0,render:function(v,r){return(0,n.jsxs)("div",{children:[(0,n.jsx)(w.Z,{width:50,height:50,src:r==null?void 0:r.image_url}),(0,n.jsx)("span",{style:{margin:"0px 0px 0px 10px"},children:r==null?void 0:r.title})]})}},{title:"Created Date",dataIndex:"created_at",key:"table-column-created-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(v){return(0,n.jsx)("p",{children:L()(new Date(v)).format("DD-MM-YYYY")})}},{title:"Updated Date",dataIndex:"updated_at",key:"table-column-updated-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(v){return(0,n.jsx)("p",{children:L()(new Date(v)).format("DD-MM-YYYY")})}},{title:"Actions",valueType:"option",key:"table-column-actions",render:function(v,r,S,J){return[(0,n.jsx)(x.ZP,{onClick:function(){P.history.push("/admin-app/categories/edit/"+r.id)},children:(0,n.jsx)(M.Z,{})},"editable"),(0,n.jsx)(N,{rowId:r==null?void 0:r.id,onFinish:function(c){var y=c.status,C=c.text_message;if(y){var D;A.ZP.success(C),(D=u.current)===null||D===void 0||D.reload()}else A.ZP.error(C)}})]}}];return(0,n.jsx)(E._z,{children:(0,n.jsx)(W.Z,{actionRef:u,rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100]},toolBarRender:function(){return[(0,n.jsxs)(x.ZP,{type:"primary",onClick:function(){P.history.push("/admin-app/categories/new")},children:[(0,n.jsx)(p.Z,{})," New"]},"new")]},request:function(){var O=l()(t()().mark(function v(r,S,J){return t()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,K(2e3);case 2:return c.next=4,(0,P.request)("/api/categories",{params:{sort:s()({},S),pagination:s()({},r)}}).then(function(){var y=l()(t()().mark(function C(D){return t()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",{data:D.data.data,total:D.data.total,current_page:D.data.current_page});case 1:case"end":return T.stop()}},C)}));return function(C){return y.apply(this,arguments)}}()).catch(function(y){console.log(y)});case 4:return c.abrupt("return",c.sent);case 5:case"end":return c.stop()}},v)}));return function(v,r,S){return O.apply(this,arguments)}}(),columns:R})})},H=Q}}]);

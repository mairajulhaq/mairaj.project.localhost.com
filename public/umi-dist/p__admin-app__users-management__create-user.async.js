"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[312],{58547:function(w,g,r){r.d(g,{h:function(){return f}});var B=r(67294),f=function(i){return Array.isArray(i)?i:i&&i.fileList},y=function(i){return new Promise(function(_,j){var u=new FileReader;u.readAsDataURL(i.file.originFileObj),u.onload=function(){var v=u.result;_(v)},u.onerror=function(v){return j(v)}})}},69293:function(w,g,r){r.r(g);var B=r(5574),f=r.n(B),y=r(15009),o=r.n(y),i=r(99289),_=r.n(i),j=r(6110),u=r(38020),v=r(2236),z=r(38345),m=r(34994),D=r(5966),G=r(50335),Y=r(90672),L=r(2453),$=r(8232),U=r(42119),H=r(71230),M=r(15746),N=r(95715),V=r(66476),Q=r(83622),J=r(40056),X=r(88484),W=r(67294),x=r(76772),k=r(27484),q=r.n(k),ee=r(58547),n=r(85893),C=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(p){setTimeout(function(){p(!0)},c)})},re=function(){var T=_()(o()().mark(function c(p,O){return o()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:console.log("onFinishHandlerStepsForm"),console.log("Received values of form: ",p),L.ZP.success("Submitted successfully"),x.history.push("/admin-app/users/edit/"+O);case 4:case"end":return h.stop()}},c)}));return function(p,O){return T.apply(this,arguments)}}(),ne=function(){var c=$.Z.useForm(),p=f()(c,1),O=p[0],K=(0,W.useState)("http://mairaj.project.localhost.com/images/default/user-profile-image.png"),h=f()(K,2),b=h[0],F=h[1],se=(0,W.useState)({}),Z=f()(se,2),ae=Z[0],te=Z[1];return(0,n.jsx)(j._z,{children:(0,n.jsxs)(u.L0,{onFinish:function(){var l=_()(o()().mark(function s(e){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(1e3);case 2:return t.next=4,re(e,ae);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},s)}));return function(s){return l.apply(this,arguments)}}(),formProps:{validateMessages:{required:"This is required"}},submitter:{render:function(s,e){return(0,n.jsx)(v.S,{children:e})}},stepsRender:function(s,e){var a;return(0,n.jsx)(U.Z,{current:e==null||(a=e.props)===null||a===void 0||(a=a.children)===null||a===void 0||(a=a.props)===null||a===void 0?void 0:a.current,children:[{key:"personal_details",title:"Personal Details"},{key:"qualification_and_experience_details",title:"Dummy Data"}].map(function(t){return(0,n.jsx)(U.Z.Step,{title:t.title},t.key)})})},children:[(0,n.jsx)(u.L0.StepForm,{name:"personal_details",title:"Personal Details",onFinish:function(){var l=_()(o()().mark(function s(e){var a;return o()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,C(2e3);case 2:return a={image_url:b,name:e==null?void 0:e.name,email:e==null?void 0:e.email,role:"user",mobile_no:e==null?void 0:e.mobile_no,date_of_birth:q()(new Date(e==null?void 0:e.date_of_birth)).format("YYYY-MM-DD"),bio_data:e==null?void 0:e.bio_data,password:e==null?void 0:e.password},(0,x.request)("/api/users",{method:"POST",data:a}).then(function(){var d=_()(o()().mark(function S(P){var A,R;return o()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:(P==null||(A=P.data)===null||A===void 0?void 0:A.id)>0&&te(P==null||(R=P.data)===null||R===void 0?void 0:R.id);case 1:case"end":return I.stop()}},S)}));return function(S){return d.apply(this,arguments)}}()).catch(function(d){console.log(d)}),E.abrupt("return",!0);case 5:case"end":return E.stop()}},s)}));return function(s){return l.apply(this,arguments)}}(),layout:"vertical",grid:!0,form:O,children:(0,n.jsx)(z.Z,{title:"BIO Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(s){return console.log(s)},children:(0,n.jsxs)(H.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,n.jsx)(M.Z,{span:6,children:(0,n.jsxs)(m.A.Group,{size:24,children:[(0,n.jsx)(M.Z,{span:24,children:(0,n.jsx)(N.Z,{width:"100%",height:200,src:b})}),(0,n.jsx)(M.Z,{span:24,style:{textAlign:"center"},children:(0,n.jsx)(m.A.Item,{name:"image_url",getValueFromEvent:ee.h,children:(0,n.jsx)(V.Z,{name:"file",onChange:function(s){if(console.log("file - onChange - info"),console.log(s),s.file.status!=="uploading"){if(s.file.status=="removed"&&F(""),s.file.status==="done"){var e;F(s==null||(e=s.file)===null||e===void 0||(e=e.response)===null||e===void 0?void 0:e.url)}s.file.status==="error"&&L.ZP.error("".concat(s.file.name," file upload failed."))}},maxCount:1,action:"/api/file-manager/upload",data:{directory:"users"},onRemove:function(s){console.log("file is removed"),console.log(s),(0,x.request)("/api/file-manager/delete",{method:"DELETE",data:{filename:s==null?void 0:s.name,directory:"users"}}).then(function(){var e=_()(o()().mark(function a(t){return o()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:console.log("api_response"),console.log(t);case 2:case"end":return d.stop()}},a)}));return function(a){return e.apply(this,arguments)}}())},children:(0,n.jsx)(Q.ZP,{type:"primary",icon:(0,n.jsx)(X.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(s){},children:"Change Image"})})})})]})}),(0,n.jsxs)(M.Z,{span:18,children:[(0,n.jsxs)(m.A.Group,{size:24,children:[(0,n.jsx)(D.Z,{name:"name",label:"Name",placeholder:"Type Your Name",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,n.jsx)(D.Z,{label:"Email",name:"email",placeholder:"info@example.com etc.",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,n.jsxs)(m.A.Group,{size:24,children:[(0,n.jsx)(G.Z,{label:"Date of Birth",name:"date_of_birth",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,n.jsx)(D.Z,{name:"mobile_no",label:"Mobile No",placeholder:"Type Your Mobile No",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,n.jsx)(m.A.Group,{size:24,children:(0,n.jsx)(Y.Z,{name:"bio_data",label:"Biographical Info",fieldProps:{rows:6},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,n.jsxs)(m.A.Group,{size:24,children:[(0,n.jsx)(D.Z.Password,{name:"password",label:"Password",placeholder:"Please type a password",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,n.jsx)(D.Z.Password,{name:"password_confirmation",label:"Confirm Password",dependencies:["password"],placeholder:"Please type a confirm password",rules:[{required:!0,message:"Please confirm your password!"},function(l){var s=l.getFieldValue;return{validator:function(a,t){return!t||s("password")===t?Promise.resolve():Promise.reject(new Error("The new password that you entered do not match!"))}}}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]})]})]})})}),(0,n.jsxs)(u.L0.StepForm,{name:"qualification_and_experience_details",title:"Qualification & Experience Details",onFinish:_()(o()().mark(function l(){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(2e3);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}},l)})),layout:"vertical",grid:!0,children:[(0,n.jsx)(J.Z,{message:" testing message 123",type:"success"}),";"]})]})})};g.default=ne}}]);

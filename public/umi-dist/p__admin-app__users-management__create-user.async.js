"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[312],{38345:function(L,M,r){var u=r(1413),m=r(53911),_=r(44962),s=r(13286),i=r(85893),c=function(D){return(0,i.jsx)(m.Z,(0,u.Z)({bodyStyle:{padding:0}},D))},h=m.Z;h.isProCard=!0,h.Divider=_.Z,h.TabPane=s.Z,h.Group=c,M.Z=h},50335:function(L,M,r){r.d(M,{Z:function(){return Q}});var u=r(1413),m=r(91),_=r(67294),s=r(66758),i=r(57812),c=r(85893),h=["proFieldProps","fieldProps"],a="date",D=_.forwardRef(function(t,E){var P=t.proFieldProps,d=t.fieldProps,e=(0,m.Z)(t,h),f=(0,_.useContext)(s.Z);return(0,c.jsx)(i.Z,(0,u.Z)({ref:E,valueType:a,fieldProps:(0,u.Z)({getPopupContainer:f.getPopupContainer},d),proFieldProps:P,filedConfig:{valueType:a,customLightMode:!0}},e))}),y=D,v=["proFieldProps","fieldProps"],Z="dateMonth",U=_.forwardRef(function(t,E){var P=t.proFieldProps,d=t.fieldProps,e=(0,m.Z)(t,v),f=(0,_.useContext)(s.Z);return(0,c.jsx)(i.Z,(0,u.Z)({ref:E,valueType:Z,fieldProps:(0,u.Z)({getPopupContainer:f.getPopupContainer},d),proFieldProps:P,filedConfig:{valueType:Z,customLightMode:!0}},e))}),A=U,b=["fieldProps"],R="dateQuarter",j=_.forwardRef(function(t,E){var P=t.fieldProps,d=(0,m.Z)(t,b),e=(0,_.useContext)(s.Z);return(0,c.jsx)(i.Z,(0,u.Z)({ref:E,valueType:R,fieldProps:(0,u.Z)({getPopupContainer:e.getPopupContainer},P),filedConfig:{valueType:R,customLightMode:!0}},d))}),K=j,G=["proFieldProps","fieldProps"],W="dateWeek",S=_.forwardRef(function(t,E){var P=t.proFieldProps,d=t.fieldProps,e=(0,m.Z)(t,G),f=(0,_.useContext)(s.Z);return(0,c.jsx)(i.Z,(0,u.Z)({ref:E,valueType:W,fieldProps:(0,u.Z)({getPopupContainer:f.getPopupContainer},d),proFieldProps:P,filedConfig:{valueType:W,customLightMode:!0}},e))}),Y=S,T=["proFieldProps","fieldProps"],F="dateYear",z=_.forwardRef(function(t,E){var P=t.proFieldProps,d=t.fieldProps,e=(0,m.Z)(t,T),f=(0,_.useContext)(s.Z);return(0,c.jsx)(i.Z,(0,u.Z)({ref:E,valueType:F,fieldProps:(0,u.Z)({getPopupContainer:f.getPopupContainer},d),proFieldProps:P,filedConfig:{valueType:F,customLightMode:!0}},e))}),w=z,o=y;o.Week=Y,o.Month=A,o.Quarter=K,o.Year=w,o.displayName="ProFormComponent";var Q=o},58547:function(L,M,r){r.d(M,{h:function(){return m}});var u=r(67294),m=function(i){return Array.isArray(i)?i:i&&i.fileList},_=function(i){return new Promise(function(c,h){var a=new FileReader;a.readAsDataURL(i.file.originFileObj),a.onload=function(){var D=a.result;c(D)},a.onerror=function(D){return h(D)}})}},69293:function(L,M,r){r.r(M);var u=r(5574),m=r.n(u),_=r(15009),s=r.n(_),i=r(99289),c=r.n(i),h=r(6110),a=r(34994),D=r(2236),y=r(38345),v=r(5966),Z=r(50335),U=r(90672),A=r(2453),b=r(47019),R=r(71230),j=r(15746),K=r(95715),G=r(66476),W=r(83622),S=r(88484),Y=r(67294),T=r(76772),F=r(27484),z=r.n(F),w=r(58547),o=r(85893),Q=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(e){setTimeout(function(){e(!0)},d)})},t=function(){var P=c()(s()().mark(function d(e,f){var B;return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",e),p.prev=2,B={image_url:f,name:e==null?void 0:e.name,email:e==null?void 0:e.email,role:"user",mobile_no:e==null?void 0:e.mobile_no,date_of_birth:z()(new Date(e==null?void 0:e.date_of_birth)).format("YYYY-MM-DD"),bio_data:e==null?void 0:e.bio_data,password:e==null?void 0:e.password,address:{street:e==null?void 0:e.street,country:e==null?void 0:e.country,province:e==null?void 0:e.province,city:e==null?void 0:e.city,postal_code:e==null?void 0:e.postal_code}},p.next=6,(0,T.request)("/api/users",{method:"POST",data:B}).then(function(){var O=c()(s()().mark(function g(n){var l,C;return s()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:(n==null||(l=n.data)===null||l===void 0?void 0:l.id)>0&&(A.ZP.success("Submitted successfully"),T.history.push("/admin-app/users/edit/"+(n==null||(C=n.data)===null||C===void 0?void 0:C.id)));case 1:case"end":return I.stop()}},g)}));return function(g){return O.apply(this,arguments)}}()).catch(function(O){console.log(O)});case 6:return p.abrupt("return",p.sent);case 9:p.prev=9,p.t0=p.catch(2),console.log("api_response - error"),console.log(p.t0);case 13:return p.abrupt("return",!0);case 14:case"end":return p.stop()}},d,null,[[2,9]])}));return function(e,f){return P.apply(this,arguments)}}(),E=function(){var d=b.Z.useForm(),e=m()(d,1),f=e[0],B=(0,Y.useState)("http://mairaj.project.localhost.com/images/default/user-profile-image.png"),N=m()(B,2),p=N[0],O=N[1];return(0,o.jsx)(h._z,{children:(0,o.jsxs)(a.A,{onFinish:function(){var g=c()(s()().mark(function n(l){return s()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Q(2e3);case 2:return x.next=4,t(l,p);case 4:case"end":return x.stop()}},n)}));return function(n){return g.apply(this,arguments)}}(),layout:"vertical",grid:!0,form:f,submitter:{render:function(n,l){return(0,o.jsx)(D.S,{children:l})}},children:[(0,o.jsx)(y.Z,{title:"BIO Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(n){return console.log(n)},children:(0,o.jsxs)(R.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,o.jsx)(j.Z,{span:6,children:(0,o.jsxs)(a.A.Group,{size:24,children:[(0,o.jsx)(j.Z,{span:24,children:(0,o.jsx)(K.Z,{width:"100%",height:200,src:p})}),(0,o.jsx)(j.Z,{span:24,style:{textAlign:"center"},children:(0,o.jsx)(a.A.Item,{name:"image_url",getValueFromEvent:w.h,children:(0,o.jsx)(G.Z,{name:"file",onChange:function(n){if(console.log("file - onChange - info"),console.log(n),n.file.status!=="uploading"){if(n.file.status=="removed"&&O(""),n.file.status==="done"){var l;O(n==null||(l=n.file)===null||l===void 0||(l=l.response)===null||l===void 0?void 0:l.url)}n.file.status==="error"&&A.ZP.error("".concat(n.file.name," file upload failed."))}},maxCount:1,action:"/api/file-manager/upload",data:{directory:"users"},onRemove:function(n){console.log("file is removed"),console.log(n),(0,T.request)("/api/file-manager/delete",{method:"DELETE",data:{filename:n==null?void 0:n.name,directory:"users"}}).then(function(){var l=c()(s()().mark(function C(x){return s()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:console.log("api_response"),console.log(x);case 2:case"end":return H.stop()}},C)}));return function(C){return l.apply(this,arguments)}}())},children:(0,o.jsx)(W.ZP,{type:"primary",icon:(0,o.jsx)(S.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(n){},children:"Change Image"})})})})]})}),(0,o.jsxs)(j.Z,{span:18,children:[(0,o.jsxs)(a.A.Group,{size:24,children:[(0,o.jsx)(v.Z,{name:"name",label:"Name",placeholder:"Type Your Name",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,o.jsx)(v.Z,{label:"Email",name:"email",placeholder:"info@example.com etc.",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,o.jsxs)(a.A.Group,{size:24,children:[(0,o.jsx)(Z.Z,{label:"Date of Birth",name:"date_of_birth",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,o.jsx)(v.Z,{name:"mobile_no",label:"Mobile No",placeholder:"Type Your Mobile No",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,o.jsx)(a.A.Group,{size:24,children:(0,o.jsx)(U.Z,{name:"bio_data",label:"Biographical Info",fieldProps:{rows:6},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,o.jsxs)(a.A.Group,{size:24,children:[(0,o.jsx)(v.Z.Password,{name:"password",label:"Password",placeholder:"Please type a password",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,o.jsx)(v.Z.Password,{name:"password_confirmation",label:"Confirm Password",dependencies:["password"],placeholder:"Please type a confirm password",rules:[{required:!0,message:"Please confirm your password!"},function(g){var n=g.getFieldValue;return{validator:function(C,x){return!x||n("password")===x?Promise.resolve():Promise.reject(new Error("The new password that you entered do not match!"))}}}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]})]})]})}),(0,o.jsxs)(y.Z,{title:"Address Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:[(0,o.jsx)(a.A.Group,{size:24,children:(0,o.jsx)(v.Z,{name:"street",label:"Street address",placeholder:"Please Enter Street Address",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,o.jsxs)(a.A.Group,{size:24,children:[(0,o.jsx)(v.Z,{name:"country",label:"Country / Region",placeholder:"Please Enter Country / Region",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,o.jsx)(v.Z,{name:"province",label:"Province",placeholder:"Please Enter Province",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,o.jsxs)(a.A.Group,{size:24,children:[(0,o.jsx)(v.Z,{name:"city",label:"City",placeholder:"Please Enter City",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,o.jsx)(v.Z,{name:"postal_code",label:"Postal Code / ZIP",placeholder:"Please Enter Post Code / ZIP",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]})]})]})})};M.default=E}}]);

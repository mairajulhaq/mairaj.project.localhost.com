"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[658],{82061:function(R,v,e){var c=e(1413),s=e(67294),h=e(47046),n=e(91146),p=function(g,E){return s.createElement(n.Z,(0,c.Z)((0,c.Z)({},g),{},{ref:E,icon:h.Z}))},u=s.forwardRef(p);v.Z=u},47389:function(R,v,e){var c=e(1413),s=e(67294),h=e(27363),n=e(91146),p=function(g,E){return s.createElement(n.Z,(0,c.Z)((0,c.Z)({},g),{},{ref:E,icon:h.Z}))},u=s.forwardRef(p);v.Z=u},51042:function(R,v,e){var c=e(1413),s=e(67294),h=e(42110),n=e(91146),p=function(g,E){return s.createElement(n.Z,(0,c.Z)((0,c.Z)({},g),{},{ref:E,icon:h.Z}))},u=s.forwardRef(p);v.Z=u},4888:function(R,v,e){e.r(v),e.d(v,{default:function(){return H},waitTime:function(){return U},waitTimePromise:function(){return K}});var c=e(97857),s=e.n(c),h=e(15009),n=e.n(h),p=e(99289),u=e.n(p),x=e(47389),g=e(51042),E=e(6110),w=e(91319),Y=e(68997),S=e(83622),L=e(2453),I=e(76772),_=e(27484),B=e.n(_),F=e(67294),z=e(86738),N=e(63783),$=e(82061),a=e(85893),G=function(r){var m=r.rowId,i=r.onFinish;return(0,a.jsx)(z.Z,{title:"Delete the Tutor",description:"Are you sure you want to delete this Tutor?",icon:(0,a.jsx)(N.Z,{style:{color:"red"}}),placement:"left",onConfirm:u()(n()().mark(function y(){return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,I.request)("/api/users/"+m,{method:"DELETE"}).then(function(A){A.status===!0?i({status:!0,text_message:"Tutor deleted successfully"}):i({status:!1,text_message:"Failed to delete Tutor: Invalid response"})});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},y)})),okText:"Yes",cancelText:"No",children:(0,a.jsx)(S.ZP,{danger:!0,children:(0,a.jsx)($.Z,{})},"deletable")})},Q=G,K=function(){var T=u()(n()().mark(function r(){var m,i=arguments;return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return m=i.length>0&&i[0]!==void 0?i[0]:100,o.abrupt("return",new Promise(function(d){setTimeout(function(){d(!0)},m)}));case 2:case"end":return o.stop()}},r)}));return function(){return T.apply(this,arguments)}}(),U=function(){var T=u()(n()().mark(function r(){var m,i=arguments;return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return m=i.length>0&&i[0]!==void 0?i[0]:100,o.next=3,K(m);case 3:case"end":return o.stop()}},r)}));return function(){return T.apply(this,arguments)}}(),b=function(){var r=(0,I.useModel)("@@initialState"),m=r.initialState,i=r.loading,y=r.refresh,o=r.setInitialState;console.log("initialState"),console.log(m),console.log("loading"),console.log(i);var d=(0,F.useRef)(),A=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"Name",key:"table-column-name",copyable:!0,hideInSearch:!0,render:function(f,t){return(0,a.jsxs)("div",{children:[(0,a.jsx)(Y.Z,{size:"large",src:(t==null?void 0:t.image_url)!==null?t==null?void 0:t.image_url:"http://mairaj.project.localhost.com/images/default/user-profile-image.png"}),(0,a.jsx)("span",{style:{margin:"0px 0px 0px 10px"},children:t==null?void 0:t.name})]})}},{title:"Email",dataIndex:"email",key:"table-column-email",hideInSearch:!0},{title:"Qualification",dataIndex:"qualifications",key:"table-column-qualification",hideInSearch:!0,render:function(f,t,Z,W){var P;return[(t==null||(P=t.qualifications)===null||P===void 0?void 0:P.length)>0?t.qualifications.map(function(l){return l.degree}).join(", "):"No qualifications available"]}},{title:"Created Date",dataIndex:"created_at",key:"table-column-created-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(f){return(0,a.jsx)("p",{children:B()(new Date(f)).format("DD-MM-YYYY")})}},{title:"Updated Date",dataIndex:"updated_at",key:"table-column-updated-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(f){return(0,a.jsx)("p",{children:B()(new Date(f)).format("DD-MM-YYYY")})}},{title:"Actions",valueType:"option",key:"table-column-actions",render:function(f,t,Z,W){return[(0,a.jsx)(S.ZP,{onClick:function(){I.history.push("/admin-app/tutors/edit/"+t.id)},children:(0,a.jsx)(x.Z,{})},"editable"),(0,a.jsx)(Q,{rowId:t==null?void 0:t.id,onFinish:function(l){var M=l.status,j=l.text_message;if(M){var O;L.ZP.success(j),(O=d.current)===null||O===void 0||O.reload()}else L.ZP.error(j)}})]}}];return(0,a.jsx)(E._z,{children:(0,a.jsx)(w.Z,{actionRef:d,rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100]},toolBarRender:function(){return[(0,a.jsxs)(S.ZP,{type:"primary",onClick:function(){I.history.push("/admin-app/tutors/new")},children:[(0,a.jsx)(g.Z,{})," New"]},"new")]},request:function(){var D=u()(n()().mark(function f(t,Z,W){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,U(2e3);case 2:return l.next=4,(0,I.request)("/api/users",{params:{sort:s()({},Z),pagination:s()({},t),role:"tutor"}}).then(function(){var M=u()(n()().mark(function j(O){return n()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",{data:O.data.data,total:O.data.total,current_page:O.data.current_page});case 1:case"end":return C.stop()}},j)}));return function(j){return M.apply(this,arguments)}}()).catch(function(M){console.log(M)});case 4:return l.abrupt("return",l.sent);case 5:case"end":return l.stop()}},f)}));return function(f,t,Z){return D.apply(this,arguments)}}(),columns:A})})},H=b}}]);

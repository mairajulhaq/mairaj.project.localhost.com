"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9025],{88484:function(V,M,e){e.d(M,{Z:function(){return c}});var s=e(1413),p=e(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},P=_,u=e(91146),l=function(g,F){return p.createElement(u.Z,(0,s.Z)((0,s.Z)({},g),{},{ref:F,icon:P}))},h=p.forwardRef(l),c=h},38345:function(V,M,e){var s=e(1413),p=e(53911),_=e(44962),P=e(13286),u=e(85893),l=function(C){return(0,u.jsx)(p.Z,(0,s.Z)({bodyStyle:{padding:0}},C))},h=p.Z;h.isProCard=!0,h.Divider=_.Z,h.TabPane=P.Z,h.Group=l,M.Z=h},50335:function(V,M,e){e.d(M,{Z:function(){return Q}});var s=e(1413),p=e(91),_=e(67294),P=e(66758),u=e(68256),l=e(85893),h=["proFieldProps","fieldProps"],c="date",C=_.forwardRef(function(n,x){var j=n.proFieldProps,E=n.fieldProps,i=(0,p.Z)(n,h),v=(0,_.useContext)(P.Z);return(0,l.jsx)(u.Z,(0,s.Z)({ref:x,valueType:c,fieldProps:(0,s.Z)({getPopupContainer:v.getPopupContainer},E),proFieldProps:j,filedConfig:{valueType:c,customLightMode:!0}},i))}),g=C,F=["proFieldProps","fieldProps"],K="dateMonth",O=_.forwardRef(function(n,x){var j=n.proFieldProps,E=n.fieldProps,i=(0,p.Z)(n,F),v=(0,_.useContext)(P.Z);return(0,l.jsx)(u.Z,(0,s.Z)({ref:x,valueType:K,fieldProps:(0,s.Z)({getPopupContainer:v.getPopupContainer},E),proFieldProps:j,filedConfig:{valueType:K,customLightMode:!0}},i))}),X=O,w=["fieldProps"],S="dateQuarter",q=_.forwardRef(function(n,x){var j=n.fieldProps,E=(0,p.Z)(n,w),i=(0,_.useContext)(P.Z);return(0,l.jsx)(u.Z,(0,s.Z)({ref:x,valueType:S,fieldProps:(0,s.Z)({getPopupContainer:i.getPopupContainer},j),filedConfig:{valueType:S,customLightMode:!0}},E))}),ee=q,Z=["proFieldProps","fieldProps"],H="dateWeek",re=_.forwardRef(function(n,x){var j=n.proFieldProps,E=n.fieldProps,i=(0,p.Z)(n,Z),v=(0,_.useContext)(P.Z);return(0,l.jsx)(u.Z,(0,s.Z)({ref:x,valueType:H,fieldProps:(0,s.Z)({getPopupContainer:v.getPopupContainer},E),proFieldProps:j,filedConfig:{valueType:H,customLightMode:!0}},i))}),oe=re,ae=["proFieldProps","fieldProps"],T="dateYear",$=_.forwardRef(function(n,x){var j=n.proFieldProps,E=n.fieldProps,i=(0,p.Z)(n,ae),v=(0,_.useContext)(P.Z);return(0,l.jsx)(u.Z,(0,s.Z)({ref:x,valueType:T,fieldProps:(0,s.Z)({getPopupContainer:v.getPopupContainer},E),proFieldProps:j,filedConfig:{valueType:T,customLightMode:!0}},i))}),te=$,r=g;r.Week=oe,r.Month=X,r.Quarter=ee,r.Year=te,r.displayName="ProFormComponent";var Q=r},58547:function(V,M,e){e.d(M,{h:function(){return p}});var s=e(67294),p=function(u){return Array.isArray(u)?u:u&&u.fileList},_=function(u){return new Promise(function(l,h){var c=new FileReader;c.readAsDataURL(u.file.originFileObj),c.onload=function(){var C=c.result;l(C)},c.onerror=function(C){return h(C)}})}},66392:function(V,M,e){e.r(M);var s=e(97857),p=e.n(s),_=e(5574),P=e.n(_),u=e(15009),l=e.n(u),h=e(99289),c=e.n(h),C=e(6110),g=e(34994),F=e(2236),K=e(38345),O=e(5966),X=e(50335),w=e(90672),S=e(2453),q=e(8232),ee=e(71230),Z=e(15746),H=e(95715),re=e(66476),oe=e(83622),ae=e(88484),T=e(76772),$=e(67294),te=e(58547),r=e(85893),Q=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(v){setTimeout(function(){v(!0)},i)})},n={image_url:"",name:"",role:"",email:"",date_of_birth:"",mobile_no:"",bio_data:"",address:""},x=function(){var E=c()(l()().mark(function i(v,le,a){var ne;return l()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",a),f.prev=2,ne={image_url:le,name:a==null?void 0:a.name,role:"user",email:a==null?void 0:a.email,date_of_birth:a==null?void 0:a.date_of_birth,mobile_no:a==null?void 0:a.mobile_no,bio_data:a==null?void 0:a.bio_data,address:{street:a==null?void 0:a.street,country:a==null?void 0:a.country,province:a==null?void 0:a.province,city:a==null?void 0:a.city,postal_code:a==null?void 0:a.postal_code}},f.next=6,(0,T.request)("/api/users/"+v,{method:"PUT",data:ne}).then(function(){var y=c()(l()().mark(function b(A){var G;return l()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:console.log("api_response"),console.log(A),(A==null||(G=A.data)===null||G===void 0?void 0:G.id)>0&&S.ZP.success("Updated successfully");case 3:case"end":return z.stop()}},b)}));return function(b){return y.apply(this,arguments)}}()).catch(function(y){console.log(y)});case 6:return f.abrupt("return",f.sent);case 9:f.prev=9,f.t0=f.catch(2),console.log("api_response - error"),console.log(f.t0);case 13:return f.abrupt("return",!0);case 14:case"end":return f.stop()}},i,null,[[2,9]])}));return function(v,le,a){return E.apply(this,arguments)}}(),j=function(){var i=(0,T.useModel)("@@initialState"),v=i.initialState,le=i.loading,a=i.refresh,ne=i.setInitialState,fe=(0,T.useParams)(),f=(0,$.useState)(0),y=P()(f,2),b=y[0],A=y[1],G=q.Z.useForm(),ve=P()(G,1),z=ve[0],he=(0,$.useState)("http://mairaj.project.localhost.com/images/default/user-profile-image.png"),Pe=P()(he,2),Y=Pe[0],ie=Pe[1];return(0,$.useEffect)(function(){var D;A(v==null||(D=v.currentUser)===null||D===void 0?void 0:D.id)},[]),(0,r.jsx)(C._z,{children:(0,r.jsxs)(g.A,{layout:"vertical",grid:!0,form:z,initialValues:n,params:{user_id:b},request:c()(l()().mark(function D(){var t,d=arguments;return l()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(t=d.length>0&&d[0]!==void 0?d[0]:{},console.log("proform-params"),console.log(t),(t==null?void 0:t.user_id)!=0){m.next=5;break}return m.abrupt("return");case 5:return console.log("params?.user_id"),console.log(t==null?void 0:t.user_id),m.next=9,Q(2e3);case 9:return m.next=11,(0,T.request)("/api/users/"+(t==null?void 0:t.user_id),{method:"GET"}).then(function(){var k=c()(l()().mark(function R(o){var de,se,ue,_e,ce,me,pe,U,I,W,B,L;return l()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return console.log("api_response"),console.log(o),ie(o==null||(de=o.data)===null||de===void 0?void 0:de.image_url),J.abrupt("return",p()(p()({},n),{},{image_url:o==null||(se=o.data)===null||se===void 0?void 0:se.image_url,name:o==null||(ue=o.data)===null||ue===void 0?void 0:ue.name,email:o==null||(_e=o.data)===null||_e===void 0?void 0:_e.email,date_of_birth:o==null||(ce=o.data)===null||ce===void 0?void 0:ce.date_of_birth,mobile_no:o==null||(me=o.data)===null||me===void 0?void 0:me.mobile_no,bio_data:o==null||(pe=o.data)===null||pe===void 0?void 0:pe.bio_data,street:o==null||(U=o.data)===null||U===void 0||(U=U.address)===null||U===void 0?void 0:U.street,country:o==null||(I=o.data)===null||I===void 0||(I=I.address)===null||I===void 0?void 0:I.country,province:o==null||(W=o.data)===null||W===void 0||(W=W.address)===null||W===void 0?void 0:W.province,city:o==null||(B=o.data)===null||B===void 0||(B=B.address)===null||B===void 0?void 0:B.city,postal_code:o==null||(L=o.data)===null||L===void 0||(L=L.address)===null||L===void 0?void 0:L.postal_code}));case 4:case"end":return J.stop()}},R)}));return function(R){return k.apply(this,arguments)}}()).catch(function(k){console.log(k)});case 11:return m.abrupt("return",m.sent);case 12:case"end":return m.stop()}},D)})),onFinish:function(){var D=c()(l()().mark(function t(d){return l()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return console.log(d),m.next=3,Q(1e3);case 3:return d.user_id=b,d.image_url=Y,m.next=7,x(b,Y,d);case 7:case"end":return m.stop()}},t)}));return function(t){return D.apply(this,arguments)}}(),formProps:{validateMessages:{required:"This is required"}},submitter:{render:function(t,d){return(0,r.jsx)(F.S,{children:d})}},children:[(0,r.jsx)(K.Z,{title:"Account Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(t){return console.log(t)},children:(0,r.jsxs)(ee.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(Z.Z,{span:6,children:(0,r.jsxs)(g.A.Group,{size:24,children:[(0,r.jsx)(Z.Z,{span:24,children:(0,r.jsx)(H.Z,{width:"100%",height:200,src:Y,fallback:Y!==""?Y:"http://mairaj.project.localhost.com/images/default/user-profile-image.png"})}),(0,r.jsx)(Z.Z,{span:24,style:{textAlign:"center"},children:(0,r.jsx)(g.A.Item,{name:"image_url",getValueFromEvent:te.h,children:(0,r.jsx)(re.Z,{name:"file",onChange:function(t){if(console.log("file - onChange - info"),console.log(t),t.file.status!=="uploading"){if(t.file.status=="removed"&&ie(""),t.file.status==="done"){var d;ie(t==null||(d=t.file)===null||d===void 0||(d=d.response)===null||d===void 0?void 0:d.url)}t.file.status==="error"&&S.ZP.error("".concat(t.file.name," file upload failed."))}},maxCount:1,action:"/api/file-manager/upload",data:{directory:"users"},onRemove:function(t){console.log("file is removed"),console.log(t),(0,T.request)("/api/file-manager/delete",{method:"DELETE",data:{filename:t==null?void 0:t.name,directory:"users"}}).then(function(){var d=c()(l()().mark(function N(m){return l()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:console.log("api_response"),console.log(m);case 2:case"end":return R.stop()}},N)}));return function(N){return d.apply(this,arguments)}}())},children:(0,r.jsx)(oe.ZP,{type:"primary",icon:(0,r.jsx)(ae.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(t){},children:"Change Image"})})})})]})}),(0,r.jsxs)(Z.Z,{span:18,children:[(0,r.jsxs)(g.A.Group,{size:24,children:[(0,r.jsx)(O.Z,{name:"name",label:"Name",placeholder:"Type Your Name",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(O.Z,{label:"Email",name:"email",placeholder:"info@example.com etc.",rules:[{required:!0}],disabled:!0,colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsxs)(g.A.Group,{size:24,children:[(0,r.jsx)(X.Z,{label:"Date of Birth",name:"date_of_birth",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(O.Z,{name:"mobile_no",label:"Mobile No",placeholder:"Type Your Mobile No",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsx)(g.A.Group,{size:24,children:(0,r.jsx)(w.Z,{name:"bio_data",label:"Biographical Info",fieldProps:{rows:6},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})]})]})}),(0,r.jsxs)(K.Z,{title:"Address Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:[(0,r.jsx)(g.A.Group,{size:24,children:(0,r.jsx)(O.Z,{name:"street",label:"Street address",placeholder:"Please Enter Street Address",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,r.jsxs)(g.A.Group,{size:24,children:[(0,r.jsx)(O.Z,{name:"country",label:"Country / Region",placeholder:"Please Enter Country / Region",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(O.Z,{name:"province",label:"Province",placeholder:"Please Enter Province",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsxs)(g.A.Group,{size:24,children:[(0,r.jsx)(O.Z,{name:"city",label:"City",placeholder:"Please Enter City",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(O.Z,{name:"postal_code",label:"Postal Code / ZIP",placeholder:"Please Enter Post Code / ZIP",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]})]})]})})};M.default=j}}]);

"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[150],{38345:function(z,C,e){var m=e(1413),P=e(53911),c=e(44962),f=e(13286),u=e(85893),a=function(j){return(0,u.jsx)(P.Z,(0,m.Z)({bodyStyle:{padding:0}},j))},E=P.Z;E.isProCard=!0,E.Divider=c.Z,E.TabPane=f.Z,E.Group=a,C.Z=E},50335:function(z,C,e){e.d(C,{Z:function(){return S}});var m=e(1413),P=e(91),c=e(67294),f=e(66758),u=e(57812),a=e(85893),E=["proFieldProps","fieldProps"],p="date",j=c.forwardRef(function(n,D){var M=n.proFieldProps,h=n.fieldProps,l=(0,P.Z)(n,E),_=(0,c.useContext)(f.Z);return(0,a.jsx)(u.Z,(0,m.Z)({ref:D,valueType:p,fieldProps:(0,m.Z)({getPopupContainer:_.getPopupContainer},h),proFieldProps:M,filedConfig:{valueType:p,customLightMode:!0}},l))}),O=j,Q=["proFieldProps","fieldProps"],B="dateMonth",y=c.forwardRef(function(n,D){var M=n.proFieldProps,h=n.fieldProps,l=(0,P.Z)(n,Q),_=(0,c.useContext)(f.Z);return(0,a.jsx)(u.Z,(0,m.Z)({ref:D,valueType:B,fieldProps:(0,m.Z)({getPopupContainer:_.getPopupContainer},h),proFieldProps:M,filedConfig:{valueType:B,customLightMode:!0}},l))}),k=y,N=["fieldProps"],I="dateQuarter",H=c.forwardRef(function(n,D){var M=n.fieldProps,h=(0,P.Z)(n,N),l=(0,c.useContext)(f.Z);return(0,a.jsx)(u.Z,(0,m.Z)({ref:D,valueType:I,fieldProps:(0,m.Z)({getPopupContainer:l.getPopupContainer},M),filedConfig:{valueType:I,customLightMode:!0}},h))}),V=H,T=["proFieldProps","fieldProps"],K="dateWeek",J=c.forwardRef(function(n,D){var M=n.proFieldProps,h=n.fieldProps,l=(0,P.Z)(n,T),_=(0,c.useContext)(f.Z);return(0,a.jsx)(u.Z,(0,m.Z)({ref:D,valueType:K,fieldProps:(0,m.Z)({getPopupContainer:_.getPopupContainer},h),proFieldProps:M,filedConfig:{valueType:K,customLightMode:!0}},l))}),X=J,w=["proFieldProps","fieldProps"],x="dateYear",U=c.forwardRef(function(n,D){var M=n.proFieldProps,h=n.fieldProps,l=(0,P.Z)(n,w),_=(0,c.useContext)(f.Z);return(0,a.jsx)(u.Z,(0,m.Z)({ref:D,valueType:x,fieldProps:(0,m.Z)({getPopupContainer:_.getPopupContainer},h),proFieldProps:M,filedConfig:{valueType:x,customLightMode:!0}},l))}),q=U,o=O;o.Week=X,o.Month=k,o.Quarter=V,o.Year=q,o.displayName="ProFormComponent";var S=o},58547:function(z,C,e){e.d(C,{h:function(){return P}});var m=e(67294),P=function(u){return Array.isArray(u)?u:u&&u.fileList},c=function(u){return new Promise(function(a,E){var p=new FileReader;p.readAsDataURL(u.file.originFileObj),p.onload=function(){var j=p.result;a(j)},p.onerror=function(j){return E(j)}})}},87296:function(z,C,e){e.r(C);var m=e(97857),P=e.n(m),c=e(5574),f=e.n(c),u=e(15009),a=e.n(u),E=e(99289),p=e.n(E),j=e(6110),O=e(34994),Q=e(2236),B=e(38345),y=e(5966),k=e(50335),N=e(90672),I=e(2453),H=e(47019),V=e(71230),T=e(15746),K=e(95715),J=e(66476),X=e(83622),w=e(88484),x=e(76772),U=e(67294),q=e(58547),o=e(85893),S=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(_){setTimeout(function(){_(!0)},l)})},n={image_url:"",name:"",email:"",date_of_birth:"",mobile_no:"",bio_data:""},D=function(){var h=p()(a()().mark(function l(_,ee,s){var re;return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",s),v.prev=2,re={image_url:ee,name:s==null?void 0:s.name,email:s==null?void 0:s.email,date_of_birth:s==null?void 0:s.date_of_birth,mobile_no:s==null?void 0:s.mobile_no,bio_data:s==null?void 0:s.bio_data},v.next=6,(0,x.request)("/api/users/"+_,{method:"PUT",data:re}).then(function(){var b=p()(a()().mark(function Z(A){var W;return a()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:console.log("api_response"),console.log(A),(A==null||(W=A.data)===null||W===void 0?void 0:W.id)>0&&I.ZP.success("Updated successfully");case 3:case"end":return F.stop()}},Z)}));return function(Z){return b.apply(this,arguments)}}()).catch(function(b){console.log(b)});case 6:return v.abrupt("return",v.sent);case 9:v.prev=9,v.t0=v.catch(2),console.log("api_response - error"),console.log(v.t0);case 13:return v.abrupt("return",!0);case 14:case"end":return v.stop()}},l,null,[[2,9]])}));return function(_,ee,s){return h.apply(this,arguments)}}(),M=function(){var l=(0,x.useModel)("@@initialState"),_=l.initialState,ee=l.loading,s=l.refresh,re=l.setInitialState,me=(0,x.useParams)(),v=(0,U.useState)(0),b=f()(v,2),Z=b[0],A=b[1],W=H.Z.useForm(),ue=f()(W,1),F=ue[0],ce=(0,U.useState)("http://mairaj.project.localhost.com/images/default/user-profile-image.png"),_e=f()(ce,2),L=_e[0],oe=_e[1];return(0,U.useEffect)(function(){var g;A(_==null||(g=_.currentUser)===null||g===void 0?void 0:g.id)},[]),(0,o.jsx)(j._z,{children:(0,o.jsx)(O.A,{layout:"vertical",grid:!0,form:F,initialValues:n,params:{user_id:Z},request:p()(a()().mark(function g(){var r,i=arguments;return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(r=i.length>0&&i[0]!==void 0?i[0]:{},console.log("proform-params"),console.log(r),(r==null?void 0:r.user_id)!=0){d.next=5;break}return d.abrupt("return");case 5:return console.log("params?.user_id"),console.log(r==null?void 0:r.user_id),d.next=9,S(2e3);case 9:return d.next=11,(0,x.request)("/api/users/"+(r==null?void 0:r.user_id),{method:"GET"}).then(function(){var G=p()(a()().mark(function R(t){var ae,te,ne,le,ie,se,de;return a()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return console.log("api_response"),console.log(t),oe(t==null||(ae=t.data)===null||ae===void 0?void 0:ae.image_url),Y.abrupt("return",P()(P()({},n),{},{image_url:t==null||(te=t.data)===null||te===void 0?void 0:te.image_url,name:t==null||(ne=t.data)===null||ne===void 0?void 0:ne.name,email:t==null||(le=t.data)===null||le===void 0?void 0:le.email,date_of_birth:t==null||(ie=t.data)===null||ie===void 0?void 0:ie.date_of_birth,mobile_no:t==null||(se=t.data)===null||se===void 0?void 0:se.mobile_no,bio_data:t==null||(de=t.data)===null||de===void 0?void 0:de.bio_data}));case 4:case"end":return Y.stop()}},R)}));return function(R){return G.apply(this,arguments)}}()).catch(function(G){console.log(G)});case 11:return d.abrupt("return",d.sent);case 12:case"end":return d.stop()}},g)})),onFinish:function(){var g=p()(a()().mark(function r(i){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log(i),d.next=3,S(1e3);case 3:return i.user_id=Z,i.image_url=L,d.next=7,D(Z,L,i);case 7:case"end":return d.stop()}},r)}));return function(r){return g.apply(this,arguments)}}(),formProps:{validateMessages:{required:"This is required"}},submitter:{render:function(r,i){return(0,o.jsx)(Q.S,{children:i})}},children:(0,o.jsx)(B.Z,{title:"Account Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(r){return console.log(r)},children:(0,o.jsxs)(V.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,o.jsx)(T.Z,{span:6,children:(0,o.jsxs)(O.A.Group,{size:24,children:[(0,o.jsx)(T.Z,{span:24,children:(0,o.jsx)(K.Z,{width:"100%",height:200,src:L,fallback:L!==""?L:"http://mairaj.project.localhost.com/images/default/user-profile-image.png"})}),(0,o.jsx)(T.Z,{span:24,style:{textAlign:"center"},children:(0,o.jsx)(O.A.Item,{name:"image_url",getValueFromEvent:q.h,children:(0,o.jsx)(J.Z,{name:"file",onChange:function(r){if(console.log("file - onChange - info"),console.log(r),r.file.status!=="uploading"){if(r.file.status=="removed"&&oe(""),r.file.status==="done"){var i;oe(r==null||(i=r.file)===null||i===void 0||(i=i.response)===null||i===void 0?void 0:i.url)}r.file.status==="error"&&I.ZP.error("".concat(r.file.name," file upload failed."))}},maxCount:1,action:"/api/file-manager/upload",data:{directory:"users"},onRemove:function(r){console.log("file is removed"),console.log(r),(0,x.request)("/api/file-manager/delete",{method:"DELETE",data:{filename:r==null?void 0:r.name,directory:"users"}}).then(function(){var i=p()(a()().mark(function $(d){return a()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:console.log("api_response"),console.log(d);case 2:case"end":return R.stop()}},$)}));return function($){return i.apply(this,arguments)}}())},children:(0,o.jsx)(X.ZP,{type:"primary",icon:(0,o.jsx)(w.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(r){},children:"Change Image"})})})})]})}),(0,o.jsxs)(T.Z,{span:18,children:[(0,o.jsxs)(O.A.Group,{size:24,children:[(0,o.jsx)(y.Z,{name:"name",label:"Name",placeholder:"Type Your Name",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,o.jsx)(y.Z,{label:"Email",name:"email",placeholder:"info@example.com etc.",rules:[{required:!0}],disabled:!0,colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,o.jsxs)(O.A.Group,{size:24,children:[(0,o.jsx)(k.Z,{label:"Date of Birth",name:"date_of_birth",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,o.jsx)(y.Z,{name:"mobile_no",label:"Mobile No",placeholder:"Type Your Mobile No",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,o.jsx)(O.A.Group,{size:24,children:(0,o.jsx)(N.Z,{name:"bio_data",label:"Biographical Info",fieldProps:{rows:6},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})]})]})})})})};C.default=M}}]);

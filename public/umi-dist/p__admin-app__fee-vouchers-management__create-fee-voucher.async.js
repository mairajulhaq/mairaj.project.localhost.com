"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[348],{38345:function(w,O,e){var s=e(1413),v=e(53911),u=e(44962),c=e(13286),h=e(85893),f=function(U){return(0,h.jsx)(v.Z,(0,s.Z)({bodyStyle:{padding:0}},U))},g=v.Z;g.isProCard=!0,g.Divider=u.Z,g.TabPane=c.Z,g.Group=f,O.Z=g},50335:function(w,O,e){e.d(O,{Z:function(){return o}});var s=e(1413),v=e(91),u=e(67294),c=e(66758),h=e(68256),f=e(85893),g=["proFieldProps","fieldProps"],x="date",U=u.forwardRef(function(t,C){var F=t.proFieldProps,Z=t.fieldProps,y=(0,v.Z)(t,g),M=(0,u.useContext)(c.Z);return(0,f.jsx)(h.Z,(0,s.Z)({ref:C,valueType:x,fieldProps:(0,s.Z)({getPopupContainer:M.getPopupContainer},Z),proFieldProps:F,filedConfig:{valueType:x,customLightMode:!0}},y))}),E=U,V=["proFieldProps","fieldProps"],B="dateMonth",H=u.forwardRef(function(t,C){var F=t.proFieldProps,Z=t.fieldProps,y=(0,v.Z)(t,V),M=(0,u.useContext)(c.Z);return(0,f.jsx)(h.Z,(0,s.Z)({ref:C,valueType:B,fieldProps:(0,s.Z)({getPopupContainer:M.getPopupContainer},Z),proFieldProps:F,filedConfig:{valueType:B,customLightMode:!0}},y))}),Y=H,j=["fieldProps"],z="dateQuarter",p=u.forwardRef(function(t,C){var F=t.fieldProps,Z=(0,v.Z)(t,j),y=(0,u.useContext)(c.Z);return(0,f.jsx)(h.Z,(0,s.Z)({ref:C,valueType:z,fieldProps:(0,s.Z)({getPopupContainer:y.getPopupContainer},F),filedConfig:{valueType:z,customLightMode:!0}},Z))}),q=p,_=["proFieldProps","fieldProps"],J="dateWeek",ee=u.forwardRef(function(t,C){var F=t.proFieldProps,Z=t.fieldProps,y=(0,v.Z)(t,_),M=(0,u.useContext)(c.Z);return(0,f.jsx)(h.Z,(0,s.Z)({ref:C,valueType:J,fieldProps:(0,s.Z)({getPopupContainer:M.getPopupContainer},Z),proFieldProps:F,filedConfig:{valueType:J,customLightMode:!0}},y))}),re=ee,oe=["proFieldProps","fieldProps"],X="dateYear",te=u.forwardRef(function(t,C){var F=t.proFieldProps,Z=t.fieldProps,y=(0,v.Z)(t,oe),M=(0,u.useContext)(c.Z);return(0,f.jsx)(h.Z,(0,s.Z)({ref:C,valueType:X,fieldProps:(0,s.Z)({getPopupContainer:M.getPopupContainer},Z),proFieldProps:F,filedConfig:{valueType:X,customLightMode:!0}},y))}),ae=te,S=E;S.Week=re,S.Month=Y,S.Quarter=q,S.Year=ae,S.displayName="ProFormComponent";var o=S},21134:function(w,O,e){var s=e(1413),v=e(91),u=e(67294),c=e(68256),h=e(85893),f=["fieldProps","request","params","proFieldProps"],g=function(E,V){var B=E.fieldProps,H=E.request,Y=E.params,j=E.proFieldProps,z=(0,v.Z)(E,f);return(0,h.jsx)(c.Z,(0,s.Z)({valueType:"segmented",fieldProps:B,ref:V,request:H,params:Y,filedConfig:{customLightMode:!0},proFieldProps:j},z))},x=u.forwardRef(g);O.Z=x},91398:function(w,O,e){e.r(O),e.d(O,{default:function(){return xe}});var s=e(5574),v=e.n(s),u=e(15009),c=e.n(u),h=e(99289),f=e.n(h),g=e(6110),x=e(34994),U=e(2236),E=e(38345),V=e(5966),B=e(90672),H=e(50335),Y=e(21134),j=e(1413),z=e(87462),p=e(67294),q={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},_=q,J=e(57080),ee=function(l,r){return p.createElement(J.Z,(0,z.Z)({},l,{ref:r,icon:_}))},re=p.forwardRef(ee),oe=re,X=e(21532),te=e(66476),ae=e(9105),S=e(90789),o=e(85893),t=p.forwardRef(function(n,l){var r,i=n.fieldProps,$=n.title,ne=$===void 0?"\u5355\u51FB\u6216\u62D6\u52A8\u6587\u4EF6\u5230\u6B64\u533A\u57DF\u8FDB\u884C\u4E0A\u4F20":$,d=n.icon,A=d===void 0?(0,o.jsx)(oe,{}):d,R=n.description,T=R===void 0?"\u652F\u6301\u5355\u6B21\u6216\u6279\u91CF\u4E0A\u4F20":R,W=n.action,L=n.accept,G=n.onChange,D=n.value,Q=n.children,le=n.max,I=n.proFieldProps,ie=(0,p.useContext)(X.ZP.ConfigContext),k=(0,p.useContext)(ae.A),de=(I==null?void 0:I.mode)||k.mode||"edit",K=ie.getPrefixCls("upload"),m=(le===void 0||!D||(D==null?void 0:D.length)<le)&&de!=="read"&&(I==null?void 0:I.readonly)!==!0;return(0,o.jsxs)(te.Z.Dragger,(0,j.Z)((0,j.Z)({ref:l,name:"files",action:W,accept:L,fileList:D},i),{},{onChange:function(a){G==null||G(a),i!=null&&i.onChange&&(i==null||i.onChange(a))},style:(0,j.Z)((0,j.Z)({flexDirection:"column",alignItems:"center"},i==null?void 0:i.style),{},{display:m?(i==null||(r=i.style)===null||r===void 0?void 0:r.display)||"flex":"none"}),children:[(0,o.jsx)("p",{className:"".concat(K,"-drag-icon"),children:A}),(0,o.jsx)("p",{className:"".concat(K,"-text"),children:ne}),(0,o.jsx)("p",{className:"".concat(K,"-hint"),children:T}),Q?(0,o.jsx)("div",{className:"".concat(K,"-extra"),style:{padding:16},children:Q}):null]}))}),C=(0,S.G)(t,{getValueFromEvent:function(l){return l.fileList}}),F=C,Z=e(2453),y=e(8232),M={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"},ue=M,ce=e(91146),ve=function(l,r){return p.createElement(ce.Z,(0,j.Z)((0,j.Z)({},l),{},{ref:r,icon:ue}))},pe=p.forwardRef(ve),fe=pe,N=e(76772),me=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(r){setTimeout(function(){r(!0)},l)})},Pe={users:[{user:void 0}]},he=function(){var n=f()(c()().mark(function l(r,i){var $;return c()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",r),d.prev=2,$={title:r==null?void 0:r.title,description:r==null?void 0:r.description,amount:r==null?void 0:r.amount,due_date:moment(new Date(r==null?void 0:r.due_date)).format("Y-M-D"),status:r==null?void 0:r.status,payment_proof_image_url:r==null?void 0:r.payment_proof_image_url,author_id:i,user_id:r==null?void 0:r.user_id,class_id:r==null?void 0:r.class_id},d.next=6,(0,N.request)("/api/fee-vouchers",{method:"POST",data:$}).then(function(){var A=f()(c()().mark(function R(T){var W,L;return c()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:(T==null||(W=T.data)===null||W===void 0?void 0:W.id)>0&&(Z.ZP.success("Submitted successfully"),N.history.push("/admin-app/fee-vouchers/edit/"+(T==null||(L=T.data)===null||L===void 0?void 0:L.id)));case 1:case"end":return D.stop()}},R)}));return function(R){return A.apply(this,arguments)}}()).catch(function(A){console.log(A)});case 6:return d.abrupt("return",d.sent);case 9:d.prev=9,d.t0=d.catch(2),console.log("api_response - error"),console.log(d.t0);case 13:return d.abrupt("return",!0);case 14:case"end":return d.stop()}},l,null,[[2,9]])}));return function(r,i){return n.apply(this,arguments)}}(),ge=function(){var l=(0,N.useModel)("@@initialState"),r=l.initialState,i=l.loading,$=l.refresh,ne=l.setInitialState,d=(0,p.useState)(0),A=v()(d,2),R=A[0],T=A[1],W=y.Z.useForm(),L=v()(W,1),G=L[0],D=(0,p.useState)([]),Q=v()(D,2),le=Q[0],I=Q[1],ie=(0,p.useState)([]),k=v()(ie,2),de=k[0],K=k[1];return(0,p.useEffect)(function(){var m;T(r==null||(m=r.currentUser)===null||m===void 0?void 0:m.id)},[]),(0,p.useEffect)(function(){return(0,N.request)("/api/classes",{}).then(function(m){var P=m.data.data.map(function(a,se){return{value:a==null?void 0:a.id,label:a==null?void 0:a.title}});return I(P),P})},[]),(0,p.useEffect)(function(){return(0,N.request)("/api/users",{params:{role:"user",page:1,per_page:1e3}}).then(function(m){var P=m.data.data.map(function(a,se){return{value:a==null?void 0:a.id,label:a==null?void 0:a.name}});return K(P),P})},[]),(0,o.jsx)(g._z,{children:(0,o.jsx)(x.A,{onFinish:function(){var m=f()(c()().mark(function P(a){return c()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,me(2e3);case 2:return b.next=4,he(a,R);case 4:case"end":return b.stop()}},P)}));return function(P){return m.apply(this,arguments)}}(),layout:"vertical",grid:!0,initialValues:Pe,form:G,submitter:{render:function(P,a){return(0,o.jsx)(U.S,{children:a})}},children:(0,o.jsxs)(E.Z,{title:"Fee Voucher Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(P){return console.log(P)},children:[(0,o.jsx)(x.A.Group,{size:24,children:(0,o.jsx)(V.Z,{name:"title",label:"Title",placeholder:"Type Fee Voucher Title",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,o.jsx)(x.A.Group,{size:24,children:(0,o.jsx)(B.Z,{name:"description",label:"Description",fieldProps:{rows:6},placeholder:"Share a little description to fill out your fee voucher.",colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,o.jsxs)(x.A.Group,{size:24,children:[(0,o.jsx)(V.Z,{name:"amount",label:"Amount",placeholder:"Type Amount",rules:[{required:!0}],fieldProps:{suffix:(0,o.jsx)(fe,{})},colProps:{xs:24,sm:24,md:8,lg:8,xl:8}}),(0,o.jsx)(H.Z,{name:"due_date",label:"Due Date",rules:[{required:!0}],colProps:{xs:24,sm:24,md:8,lg:8,xl:8}}),(0,o.jsx)(Y.Z,{name:"status",label:"Status",initialValue:"in-active",valueEnum:{"in-active":"In-Active",active:"Active"},colProps:{xs:24,sm:24,md:8,lg:8,xl:8}})]}),(0,o.jsx)(x.A.Group,{size:24,children:(0,o.jsx)(F,{name:"paymen_proof_image_url",label:"Upload Payment Proof",max:1,title:"Click or drag files into this area to upload",description:"Supported extension: .jpg .png .docx",accept:".jpg, .png, .docx",rules:[{required:!0,message:"Please upload payment proof image"}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24},action:"http://mairaj.project.localhost.com/wp-json/wp/v2/form-document/"})})]})})})},xe=ge}}]);

"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[348],{57619:function(_,C,e){e.d(C,{Z:function(){return m}});var d=e(1413),c=e(67294),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855.7 210.8l-42.4-42.4a8.03 8.03 0 00-11.3 0L168.3 801.9a8.03 8.03 0 000 11.3l42.4 42.4c3.1 3.1 8.2 3.1 11.3 0L855.6 222c3.2-3 3.2-8.1.1-11.2zM304 448c79.4 0 144-64.6 144-144s-64.6-144-144-144-144 64.6-144 144 64.6 144 144 144zm0-216c39.7 0 72 32.3 72 72s-32.3 72-72 72-72-32.3-72-72 32.3-72 72-72zm416 344c-79.4 0-144 64.6-144 144s64.6 144 144 144 144-64.6 144-144-64.6-144-144-144zm0 216c-39.7 0-72-32.3-72-72s32.3-72 72-72 72 32.3 72 72-32.3 72-72 72z"}}]},name:"percentage",theme:"outlined"},n=S,O=e(91146),P=function(g,j){return c.createElement(O.Z,(0,d.Z)((0,d.Z)({},g),{},{ref:j,icon:n}))},h=c.forwardRef(P),m=h},38345:function(_,C,e){var d=e(1413),c=e(53911),S=e(44962),n=e(13286),O=e(85893),P=function(A){return(0,O.jsx)(c.Z,(0,d.Z)({bodyStyle:{padding:0}},A))},h=c.Z;h.isProCard=!0,h.Divider=S.Z,h.TabPane=n.Z,h.Group=P,C.Z=h},21134:function(_,C,e){var d=e(1413),c=e(91),S=e(67294),n=e(57812),O=e(85893),P=["fieldProps","request","params","proFieldProps"],h=function(g,j){var B=g.fieldProps,W=g.request,Z=g.params,a=g.proFieldProps,u=(0,c.Z)(g,P);return(0,O.jsx)(n.Z,(0,d.Z)({valueType:"segmented",fieldProps:B,ref:j,request:W,params:Z,filedConfig:{customLightMode:!0},proFieldProps:a},u))},m=S.forwardRef(h);C.Z=m},64317:function(_,C,e){var d=e(1413),c=e(91),S=e(22270),n=e(67294),O=e(66758),P=e(57812),h=e(85893),m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],A=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],g=function(u,p){var z=u.fieldProps,K=u.children,b=u.params,V=u.proFieldProps,G=u.mode,$=u.valueEnum,H=u.request,N=u.showSearch,J=u.options,Q=(0,c.Z)(u,m),t=(0,n.useContext)(O.Z);return(0,h.jsx)(P.Z,(0,d.Z)((0,d.Z)({valueEnum:(0,S.h)($),request:H,params:b,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,d.Z)({options:J,mode:G,showSearch:N,getPopupContainer:t.getPopupContainer},z),ref:p,proFieldProps:V},Q),{},{children:K}))},j=n.forwardRef(function(a,u){var p=a.fieldProps,z=a.children,K=a.params,b=a.proFieldProps,V=a.mode,G=a.valueEnum,$=a.request,H=a.options,N=(0,c.Z)(a,A),J=(0,d.Z)({options:H,mode:V||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},p),Q=(0,n.useContext)(O.Z);return(0,h.jsx)(P.Z,(0,d.Z)((0,d.Z)({valueEnum:(0,S.h)(G),request:$,params:K,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,d.Z)({getPopupContainer:Q.getPopupContainer},J),ref:u,proFieldProps:b},N),{},{children:z}))}),B=n.forwardRef(g),W=j,Z=B;Z.SearchSelect=W,Z.displayName="ProFormComponent",C.Z=Z},28247:function(_,C,e){e.r(C),e.d(C,{default:function(){return he}});var d=e(5574),c=e.n(d),S=e(15009),n=e.n(S),O=e(99289),P=e.n(O),h=e(6110),m=e(34994),A=e(2236),g=e(38345),j=e(5966),B=e(90672),W=e(21134),Z=e(64317),a=e(1413),u=e(87462),p=e(67294),z={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"},K=z,b=e(57080),V=function(v,r){return p.createElement(b.Z,(0,u.Z)({},v,{ref:r,icon:K}))},G=p.forwardRef(V),$=G,H=e(21532),N=e(66476),J=e(9105),Q=e(90789),t=e(85893),ne=p.forwardRef(function(l,v){var r,s=l.fieldProps,L=l.title,ee=L===void 0?"\u5355\u51FB\u6216\u62D6\u52A8\u6587\u4EF6\u5230\u6B64\u533A\u57DF\u8FDB\u884C\u4E0A\u4F20":L,i=l.icon,D=i===void 0?(0,t.jsx)($,{}):i,M=l.description,F=M===void 0?"\u652F\u6301\u5355\u6B21\u6216\u6279\u91CF\u4E0A\u4F20":M,y=l.action,I=l.accept,R=l.onChange,E=l.value,Y=l.children,q=l.max,T=l.proFieldProps,re=(0,p.useContext)(H.ZP.ConfigContext),k=(0,p.useContext)(J.A),te=(T==null?void 0:T.mode)||k.mode||"edit",U=re.getPrefixCls("upload"),f=(q===void 0||!E||(E==null?void 0:E.length)<q)&&te!=="read"&&(T==null?void 0:T.readonly)!==!0;return(0,t.jsxs)(N.Z.Dragger,(0,a.Z)((0,a.Z)({ref:v,name:"files",action:y,accept:I,fileList:E},s),{},{onChange:function(o){R==null||R(o),s!=null&&s.onChange&&(s==null||s.onChange(o))},style:(0,a.Z)((0,a.Z)({flexDirection:"column",alignItems:"center"},s==null?void 0:s.style),{},{display:f?(s==null||(r=s.style)===null||r===void 0?void 0:r.display)||"flex":"none"}),children:[(0,t.jsx)("p",{className:"".concat(U,"-drag-icon"),children:D}),(0,t.jsx)("p",{className:"".concat(U,"-text"),children:ee}),(0,t.jsx)("p",{className:"".concat(U,"-hint"),children:F}),Y?(0,t.jsx)("div",{className:"".concat(U,"-extra"),style:{padding:16},children:Y}):null]}))}),ae=(0,Q.G)(ne,{getValueFromEvent:function(v){return v.fileList}}),le=ae,se=e(5155),ie=e(2453),de=e(47019),ue=e(57619),X=e(76772),ce=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(r){setTimeout(function(){r(!0)},v)})},me={users:[{user:void 0}]},pe=function(){var l=P()(n()().mark(function v(r,s){var L;return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",r),i.prev=2,L={title:r==null?void 0:r.title,description:r==null?void 0:r.description,amount:r==null?void 0:r.amount,due_date:r==null?void 0:r.due_date,status:r==null?void 0:r.status,payment_proof_image_url:r==null?void 0:r.payment_proof_image_url,author_id:s,user_id:r==null?void 0:r.user_id,class_id:r==null?void 0:r.class_id},i.next=6,(0,X.request)("/api/fee-vouchers",{method:"POST",data:L}).then(function(){var D=P()(n()().mark(function M(F){var y,I;return n()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:(F==null||(y=F.data)===null||y===void 0?void 0:y.id)>0&&(ie.ZP.success("Submitted successfully"),X.history.push("/admin-app/fee-vouchers/edit/"+(F==null||(I=F.data)===null||I===void 0?void 0:I.id)));case 1:case"end":return E.stop()}},M)}));return function(M){return D.apply(this,arguments)}}()).catch(function(D){console.log(D)});case 6:return i.abrupt("return",i.sent);case 9:i.prev=9,i.t0=i.catch(2),console.log("api_response - error"),console.log(i.t0);case 13:return i.abrupt("return",!0);case 14:case"end":return i.stop()}},v,null,[[2,9]])}));return function(r,s){return l.apply(this,arguments)}}(),ve=function(){var v=(0,X.useModel)("@@initialState"),r=v.initialState,s=v.loading,L=v.refresh,ee=v.setInitialState,i=(0,p.useState)(0),D=c()(i,2),M=D[0],F=D[1],y=de.Z.useForm(),I=c()(y,1),R=I[0],E=(0,p.useState)([]),Y=c()(E,2),q=Y[0],T=Y[1],re=(0,p.useState)([]),k=c()(re,2),te=k[0],U=k[1];return(0,p.useEffect)(function(){var f;F(r==null||(f=r.currentUser)===null||f===void 0?void 0:f.id)},[]),(0,p.useEffect)(function(){return(0,X.request)("/api/classes",{}).then(function(f){var x=f.data.data.map(function(o,oe){return{value:o==null?void 0:o.id,label:o==null?void 0:o.title}});return T(x),x})},[]),(0,p.useEffect)(function(){return(0,X.request)("/api/users",{params:{role:"user",page:1,per_page:1e3}}).then(function(f){var x=f.data.data.map(function(o,oe){return{value:o==null?void 0:o.id,label:o==null?void 0:o.name}});return U(x),x})},[]),(0,t.jsx)(h._z,{children:(0,t.jsxs)(m.A,{onFinish:function(){var f=P()(n()().mark(function x(o){return n()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,ce(2e3);case 2:return w.next=4,pe(o,M);case 4:case"end":return w.stop()}},x)}));return function(x){return f.apply(this,arguments)}}(),layout:"vertical",grid:!0,initialValues:me,form:R,submitter:{render:function(x,o){return(0,t.jsx)(A.S,{children:o})}},children:[(0,t.jsxs)(g.Z,{title:"Fee Voucher Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(x){return console.log(x)},children:[(0,t.jsx)(m.A.Group,{size:24,children:(0,t.jsx)(j.Z,{name:"title",label:"Title",placeholder:"Type Fee Voucher Title",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,t.jsx)(m.A.Group,{size:24,children:(0,t.jsx)(B.Z,{name:"description",label:"Description",fieldProps:{rows:6},placeholder:"Share a little description to fill out your fee voucher.",colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,t.jsxs)(m.A.Group,{size:24,children:[(0,t.jsx)(j.Z,{name:"amount",label:"Amount",placeholder:"Type Amount",rules:[{required:!0}],fieldProps:{suffix:(0,t.jsx)(ue.Z,{})},colProps:{xs:24,sm:24,md:8,lg:8,xl:8}}),(0,t.jsx)(W.Z,{name:"status",label:"Status",initialValue:"in-active",valueEnum:{"in-active":"In-Active",active:"Active"},colProps:{xs:24,sm:24,md:8,lg:8,xl:8}}),(0,t.jsx)(j.Z,{name:"attempts_limit",label:"Attempts Limit",placeholder:"Type Attempts Limit",rules:[{required:!0}],colProps:{xs:24,sm:24,md:8,lg:8,xl:8}})]}),(0,t.jsx)(m.A.Group,{size:24,children:(0,t.jsx)(Z.Z,{name:"class_id",label:"Classes",showSearch:!0,options:q,debounceTime:300,placeholder:"Please Select a Class",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,t.jsx)(m.A.Group,{size:24,children:(0,t.jsx)(le,{name:"paymen_proof_image_url",label:"Upload Payment Proof",max:1,title:"Click or drag files into this area to upload",description:"Supported extension: .jpg .png .docx",accept:".jpg, .png, .docx",rules:[{required:!0,message:"Please upload payment proof image"}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24},action:"http://mairaj.project.localhost.com/wp-json/wp/v2/form-document/"})})]}),(0,t.jsx)(g.Z,{title:"Assign Users",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,t.jsx)(m.A.Group,{size:24,children:(0,t.jsx)(se.u,{name:"users",min:1,copyIconProps:{tooltipText:"Copy this user"},deleteIconProps:{tooltipText:"Delete this user"},creatorButtonProps:{creatorButtonText:"Add New User"},children:(0,t.jsx)(m.A.Group,{size:24,children:(0,t.jsx)(Z.Z,{name:"user",label:"User",showSearch:!0,options:te,debounceTime:300,placeholder:"Please Select a User",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})})})})]})})},he=ve}}]);

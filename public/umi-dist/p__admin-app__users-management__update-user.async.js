"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[534],{51042:function($,O,e){var i=e(1413),c=e(67294),d=e(42110),p=e(91146),_=function(u,g){return c.createElement(p.Z,(0,i.Z)((0,i.Z)({},u),{},{ref:g,icon:d.Z}))},a=c.forwardRef(_);O.Z=a},38345:function($,O,e){var i=e(1413),c=e(53911),d=e(44962),p=e(13286),_=e(85893),a=function(g){return(0,_.jsx)(c.Z,(0,i.Z)({bodyStyle:{padding:0}},g))},h=c.Z;h.isProCard=!0,h.Divider=d.Z,h.TabPane=p.Z,h.Group=a,O.Z=h},50335:function($,O,e){e.d(O,{Z:function(){return r}});var i=e(1413),c=e(91),d=e(67294),p=e(66758),_=e(68256),a=e(85893),h=["proFieldProps","fieldProps"],u="date",g=d.forwardRef(function(l,E){var D=l.proFieldProps,M=l.fieldProps,f=(0,c.Z)(l,h),v=(0,d.useContext)(p.Z);return(0,a.jsx)(_.Z,(0,i.Z)({ref:E,valueType:u,fieldProps:(0,i.Z)({getPopupContainer:v.getPopupContainer},M),proFieldProps:D,filedConfig:{valueType:u,customLightMode:!0}},f))}),x=g,J=["proFieldProps","fieldProps"],G="dateMonth",B=d.forwardRef(function(l,E){var D=l.proFieldProps,M=l.fieldProps,f=(0,c.Z)(l,J),v=(0,d.useContext)(p.Z);return(0,a.jsx)(_.Z,(0,i.Z)({ref:E,valueType:G,fieldProps:(0,i.Z)({getPopupContainer:v.getPopupContainer},M),proFieldProps:D,filedConfig:{valueType:G,customLightMode:!0}},f))}),X=B,w=["fieldProps"],L="dateQuarter",q=d.forwardRef(function(l,E){var D=l.fieldProps,M=(0,c.Z)(l,w),f=(0,d.useContext)(p.Z);return(0,a.jsx)(_.Z,(0,i.Z)({ref:E,valueType:L,fieldProps:(0,i.Z)({getPopupContainer:f.getPopupContainer},D),filedConfig:{valueType:L,customLightMode:!0}},M))}),Y=q,T=["proFieldProps","fieldProps"],F="dateWeek",ee=d.forwardRef(function(l,E){var D=l.proFieldProps,M=l.fieldProps,f=(0,c.Z)(l,T),v=(0,d.useContext)(p.Z);return(0,a.jsx)(_.Z,(0,i.Z)({ref:E,valueType:F,fieldProps:(0,i.Z)({getPopupContainer:v.getPopupContainer},M),proFieldProps:D,filedConfig:{valueType:F,customLightMode:!0}},f))}),re=ee,oe=["proFieldProps","fieldProps"],z="dateYear",b=d.forwardRef(function(l,E){var D=l.proFieldProps,M=l.fieldProps,f=(0,c.Z)(l,oe),v=(0,d.useContext)(p.Z);return(0,a.jsx)(_.Z,(0,i.Z)({ref:E,valueType:z,fieldProps:(0,i.Z)({getPopupContainer:v.getPopupContainer},M),proFieldProps:D,filedConfig:{valueType:z,customLightMode:!0}},f))}),Z=b,R=x;R.Week=re,R.Month=X,R.Quarter=Y,R.Year=Z,R.displayName="ProFormComponent";var r=R},58547:function($,O,e){e.d(O,{h:function(){return c}});var i=e(67294),c=function(_){return Array.isArray(_)?_:_&&_.fileList},d=function(_){return new Promise(function(a,h){var u=new FileReader;u.readAsDataURL(_.file.originFileObj),u.onload=function(){var g=u.result;a(g)},u.onerror=function(g){return h(g)}})}},84381:function($,O,e){e.r(O);var i=e(97857),c=e.n(i),d=e(5574),p=e.n(d),_=e(15009),a=e.n(_),h=e(99289),u=e.n(h),g=e(6110),x=e(34994),J=e(2236),G=e(38345),B=e(5966),X=e(50335),w=e(90672),L=e(2453),q=e(8232),Y=e(71230),T=e(15746),F=e(83622),ee=e(95715),re=e(66476),oe=e(51042),z=e(88484),b=e(67294),Z=e(76772),R=e(58547),r=e(85893),l=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(A){setTimeout(function(){A(!0)},v)})},E={image_url:"",name:"",email:"",date_of_birth:"",mobile_no:"",bio_data:""},D=function(){var f=u()(a()().mark(function v(A,n){var N;return a()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",n),P.prev=2,N={image_url:A,name:n==null?void 0:n.name,email:n==null?void 0:n.email,date_of_birth:n==null?void 0:n.date_of_birth,mobile_no:n==null?void 0:n.mobile_no,bio_data:n==null?void 0:n.bio_data},P.next=6,(0,Z.request)("/api/users/"+(n==null?void 0:n.user_id),{method:"PUT",data:N}).then(function(){var I=u()(a()().mark(function Q(j){var U,K;return a()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:console.log("api_response"),console.log(j),(j==null||(U=j.data)===null||U===void 0?void 0:U.id)>0&&(L.ZP.success("Submitted successfully"),Z.history.push("/admin-app/users/edit/"+(j==null||(K=j.data)===null||K===void 0?void 0:K.id)));case 3:case"end":return S.stop()}},Q)}));return function(Q){return I.apply(this,arguments)}}()).catch(function(I){console.log(I)});case 6:return P.abrupt("return",P.sent);case 9:P.prev=9,P.t0=P.catch(2),console.log("api_response - error"),console.log(P.t0);case 13:return P.abrupt("return",!0);case 14:case"end":return P.stop()}},v,null,[[2,9]])}));return function(A,n){return f.apply(this,arguments)}}(),M=function(){var v=(0,Z.useParams)(),A=q.Z.useForm(),n=p()(A,1),N=n[0],de=(0,b.useState)(0),P=p()(de,2),I=P[0],Q=P[1],j=(0,b.useState)(""),U=p()(j,2),K=U[0],ue=U[1],S=(0,b.useState)(K),me=p()(S,2),y=me[0],ce=me[1];return(0,b.useEffect)(function(){Q(v.id)},[]),(0,r.jsxs)(g._z,{children:[(0,r.jsxs)(Y.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(T.Z,{flex:"auto"}),(0,r.jsx)(T.Z,{flex:"100px",children:(0,r.jsxs)(F.ZP,{type:"primary",onClick:function(){Z.history.push("/admin-app/users/new")},style:{marginBlockEnd:15},children:[(0,r.jsx)(oe.Z,{})," New"]},"new")})]}),(0,r.jsx)(x.A,{layout:"vertical",grid:!0,form:N,initialValues:E,params:{user_id:I},request:u()(a()().mark(function C(){var o,s=arguments;return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(o=s.length>0&&s[0]!==void 0?s[0]:{},console.log("proform-params"),console.log(o),(o==null?void 0:o.user_id)!=0){m.next=5;break}return m.abrupt("return");case 5:return m.next=7,l(2e3);case 7:return m.next=9,(0,Z.request)("/api/users/"+(o==null?void 0:o.user_id),{method:"GET"}).then(function(){var H=u()(a()().mark(function W(t){var ae,ne,te,le,se,ie,_e;return a()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return console.log("api_response"),console.log(t),ue(t==null||(ae=t.data)===null||ae===void 0?void 0:ae.image_url),V.abrupt("return",c()(c()({},E),{},{image_url:t==null||(ne=t.data)===null||ne===void 0?void 0:ne.image_url,name:t==null||(te=t.data)===null||te===void 0?void 0:te.name,email:t==null||(le=t.data)===null||le===void 0?void 0:le.email,date_of_birth:t==null||(se=t.data)===null||se===void 0?void 0:se.date_of_birth,mobile_no:t==null||(ie=t.data)===null||ie===void 0?void 0:ie.mobile_no,bio_data:t==null||(_e=t.data)===null||_e===void 0?void 0:_e.bio_data}));case 4:case"end":return V.stop()}},W)}));return function(W){return H.apply(this,arguments)}}()).catch(function(H){console.log(H)});case 9:return m.abrupt("return",m.sent);case 10:case"end":return m.stop()}},C)})),onFinish:function(){var C=u()(a()().mark(function o(s){return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return console.log(s),m.next=3,l(1e3);case 3:return s.user_id=I,s.image_url=y,m.next=7,D(y,s);case 7:case"end":return m.stop()}},o)}));return function(o){return C.apply(this,arguments)}}(),formProps:{validateMessages:{required:"This is required"}},submitter:{render:function(o,s){return(0,r.jsx)(J.S,{children:s})}},children:(0,r.jsx)(G.Z,{title:"BIO Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(o){return console.log(o)},children:(0,r.jsxs)(Y.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(T.Z,{span:6,children:(0,r.jsxs)(x.A.Group,{size:24,children:[(0,r.jsx)(T.Z,{span:24,children:(0,r.jsx)(ee.Z,{width:"100%",height:200,src:y,fallback:y!==""||y===null?y:"http://mairaj.project.localhost.com/images/default/user-profile-image.png"})}),(0,r.jsx)(T.Z,{span:24,style:{textAlign:"center"},children:(0,r.jsx)(x.A.Item,{name:"image_url",getValueFromEvent:R.h,children:(0,r.jsx)(re.Z,{name:"file",onChange:function(o){if(console.log("file - onChange - info"),console.log(o),o.file.status!=="uploading"){if(o.file.status=="removed"&&ce(""),o.file.status==="done"){var s;ce(o==null||(s=o.file)===null||s===void 0||(s=s.response)===null||s===void 0?void 0:s.url)}o.file.status==="error"&&L.ZP.error("".concat(o.file.name," file upload failed."))}},maxCount:1,action:"/api/file-manager/upload",data:{directory:"users"},onRemove:function(o){console.log("file is removed"),console.log(o),(0,Z.request)("/api/file-manager/delete",{method:"DELETE",data:{filename:o==null?void 0:o.name,directory:"users"}}).then(function(){var s=u()(a()().mark(function k(m){return a()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:console.log("api_response"),console.log(m);case 2:case"end":return W.stop()}},k)}));return function(k){return s.apply(this,arguments)}}())},children:(0,r.jsx)(F.ZP,{type:"primary",icon:(0,r.jsx)(z.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(o){},children:"Change Image"})})})})]})}),(0,r.jsxs)(T.Z,{span:18,children:[(0,r.jsxs)(x.A.Group,{size:24,children:[(0,r.jsx)(B.Z,{name:"name",label:"Name",placeholder:"Type Your Name",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(B.Z,{label:"Email",name:"email",placeholder:"info@example.com etc.",rules:[{required:!0}],disabled:!0,colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsxs)(x.A.Group,{size:24,children:[(0,r.jsx)(X.Z,{label:"Date of Birth",name:"date_of_birth",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(B.Z,{name:"mobile_no",label:"Mobile No",placeholder:"Type Your Mobile No",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsx)(x.A.Group,{size:24,children:(0,r.jsx)(w.Z,{name:"bio_data",label:"Biographical Info",fieldProps:{rows:6},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})]})]})})})]})};O.default=M}}]);

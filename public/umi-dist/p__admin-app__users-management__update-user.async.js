"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[534],{51042:function(K,O,e){var s=e(1413),c=e(67294),d=e(42110),p=e(91146),_=function(u,D){return c.createElement(p.Z,(0,s.Z)((0,s.Z)({},u),{},{ref:D,icon:d.Z}))},a=c.forwardRef(_);O.Z=a},38345:function(K,O,e){var s=e(1413),c=e(53911),d=e(44962),p=e(13286),_=e(85893),a=function(D){return(0,_.jsx)(c.Z,(0,s.Z)({bodyStyle:{padding:0}},D))},E=c.Z;E.isProCard=!0,E.Divider=d.Z,E.TabPane=p.Z,E.Group=a,O.Z=E},50335:function(K,O,e){e.d(O,{Z:function(){return r}});var s=e(1413),c=e(91),d=e(67294),p=e(66758),_=e(68256),a=e(85893),E=["proFieldProps","fieldProps"],u="date",D=d.forwardRef(function(l,g){var M=l.proFieldProps,j=l.fieldProps,f=(0,c.Z)(l,E),v=(0,d.useContext)(p.Z);return(0,a.jsx)(_.Z,(0,s.Z)({ref:g,valueType:u,fieldProps:(0,s.Z)({getPopupContainer:v.getPopupContainer},j),proFieldProps:M,filedConfig:{valueType:u,customLightMode:!0}},f))}),T=D,V=["proFieldProps","fieldProps"],S="dateMonth",W=d.forwardRef(function(l,g){var M=l.proFieldProps,j=l.fieldProps,f=(0,c.Z)(l,V),v=(0,d.useContext)(p.Z);return(0,a.jsx)(_.Z,(0,s.Z)({ref:g,valueType:S,fieldProps:(0,s.Z)({getPopupContainer:v.getPopupContainer},j),proFieldProps:M,filedConfig:{valueType:S,customLightMode:!0}},f))}),J=W,X=["fieldProps"],B="dateQuarter",w=d.forwardRef(function(l,g){var M=l.fieldProps,j=(0,c.Z)(l,X),f=(0,d.useContext)(p.Z);return(0,a.jsx)(_.Z,(0,s.Z)({ref:g,valueType:B,fieldProps:(0,s.Z)({getPopupContainer:f.getPopupContainer},M),filedConfig:{valueType:B,customLightMode:!0}},j))}),$=w,Z=["proFieldProps","fieldProps"],L="dateWeek",q=d.forwardRef(function(l,g){var M=l.proFieldProps,j=l.fieldProps,f=(0,c.Z)(l,Z),v=(0,d.useContext)(p.Z);return(0,a.jsx)(_.Z,(0,s.Z)({ref:g,valueType:L,fieldProps:(0,s.Z)({getPopupContainer:v.getPopupContainer},j),proFieldProps:M,filedConfig:{valueType:L,customLightMode:!0}},f))}),ee=q,re=["proFieldProps","fieldProps"],G="dateYear",F=d.forwardRef(function(l,g){var M=l.proFieldProps,j=l.fieldProps,f=(0,c.Z)(l,re),v=(0,d.useContext)(p.Z);return(0,a.jsx)(_.Z,(0,s.Z)({ref:g,valueType:G,fieldProps:(0,s.Z)({getPopupContainer:v.getPopupContainer},j),proFieldProps:M,filedConfig:{valueType:G,customLightMode:!0}},f))}),R=F,b=T;b.Week=ee,b.Month=J,b.Quarter=$,b.Year=R,b.displayName="ProFormComponent";var r=b},58547:function(K,O,e){e.d(O,{h:function(){return c}});var s=e(67294),c=function(_){return Array.isArray(_)?_:_&&_.fileList},d=function(_){return new Promise(function(a,E){var u=new FileReader;u.readAsDataURL(_.file.originFileObj),u.onload=function(){var D=u.result;a(D)},u.onerror=function(D){return E(D)}})}},84381:function(K,O,e){e.r(O);var s=e(97857),c=e.n(s),d=e(5574),p=e.n(d),_=e(15009),a=e.n(_),E=e(99289),u=e.n(E),D=e(6110),T=e(34994),V=e(2236),S=e(38345),W=e(5966),J=e(50335),X=e(90672),B=e(2453),w=e(8232),$=e(71230),Z=e(15746),L=e(83622),q=e(95715),ee=e(66476),re=e(51042),G=e(88484),F=e(67294),R=e(76772),b=e(58547),r=e(85893),l=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(A){setTimeout(function(){A(!0)},v)})},g={image_url:"",name:"",email:"",date_of_birth:"",mobile_no:"",bio_data:""},M=function(){var f=u()(a()().mark(function v(A,n){var Y;return a()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",n),P.prev=2,Y={image_url:A,name:n==null?void 0:n.name,email:n==null?void 0:n.email,date_of_birth:n==null?void 0:n.date_of_birth,mobile_no:n==null?void 0:n.mobile_no,bio_data:n==null?void 0:n.bio_data},P.next=6,(0,R.request)("/api/users/"+(n==null?void 0:n.user_id),{method:"PUT",data:Y}).then(function(){var y=u()(a()().mark(function z(x){var I,C;return a()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:console.log("api_response"),console.log(x),(x==null||(I=x.data)===null||I===void 0?void 0:I.id)>0&&(B.ZP.success("Submitted successfully"),R.history.push("/admin-app/users/edit/"+(x==null||(C=x.data)===null||C===void 0?void 0:C.id)));case 3:case"end":return h.stop()}},z)}));return function(z){return y.apply(this,arguments)}}()).catch(function(y){console.log(y)});case 6:return P.abrupt("return",P.sent);case 9:P.prev=9,P.t0=P.catch(2),console.log("api_response - error"),console.log(P.t0);case 13:return P.abrupt("return",!0);case 14:case"end":return P.stop()}},v,null,[[2,9]])}));return function(A,n){return f.apply(this,arguments)}}(),j=function(){var v=(0,R.useParams)(),A=w.Z.useForm(),n=p()(A,1),Y=n[0],_e=(0,F.useState)(0),P=p()(_e,2),y=P[0],z=P[1],x=(0,F.useState)("http://mairaj.project.localhost.com/images/default/user-profile-image.png"),I=p()(x,2),C=I[0],N=I[1];return(0,F.useEffect)(function(){z(v.id)},[]),(0,r.jsxs)(D._z,{children:[(0,r.jsxs)($.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(Z.Z,{flex:"auto"}),(0,r.jsx)(Z.Z,{flex:"100px",children:(0,r.jsxs)(L.ZP,{type:"primary",onClick:function(){R.history.push("/admin-app/users/new")},style:{marginBlockEnd:15},children:[(0,r.jsx)(re.Z,{})," New"]},"new")})]}),(0,r.jsx)(T.A,{layout:"vertical",grid:!0,form:Y,initialValues:g,params:{user_id:y},request:u()(a()().mark(function h(){var o,i=arguments;return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(o=i.length>0&&i[0]!==void 0?i[0]:{},console.log("proform-params"),console.log(o),(o==null?void 0:o.user_id)!=0){m.next=5;break}return m.abrupt("return");case 5:return m.next=7,l(2e3);case 7:return m.next=9,(0,R.request)("/api/users/"+(o==null?void 0:o.user_id),{method:"GET"}).then(function(){var k=u()(a()().mark(function U(t){var oe,ae,ne,te,le,ie,se;return a()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return console.log("api_response"),console.log(t),N(t==null||(oe=t.data)===null||oe===void 0?void 0:oe.image_url),H.abrupt("return",c()(c()({},g),{},{image_url:t==null||(ae=t.data)===null||ae===void 0?void 0:ae.image_url,name:t==null||(ne=t.data)===null||ne===void 0?void 0:ne.name,email:t==null||(te=t.data)===null||te===void 0?void 0:te.email,date_of_birth:t==null||(le=t.data)===null||le===void 0?void 0:le.date_of_birth,mobile_no:t==null||(ie=t.data)===null||ie===void 0?void 0:ie.mobile_no,bio_data:t==null||(se=t.data)===null||se===void 0?void 0:se.bio_data}));case 4:case"end":return H.stop()}},U)}));return function(U){return k.apply(this,arguments)}}()).catch(function(k){console.log(k)});case 9:return m.abrupt("return",m.sent);case 10:case"end":return m.stop()}},h)})),onFinish:function(){var h=u()(a()().mark(function o(i){return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return console.log(i),m.next=3,l(1e3);case 3:return i.user_id=y,i.image_url=C,m.next=7,M(C,i);case 7:case"end":return m.stop()}},o)}));return function(o){return h.apply(this,arguments)}}(),formProps:{validateMessages:{required:"This is required"}},submitter:{render:function(o,i){return(0,r.jsx)(V.S,{children:i})}},children:(0,r.jsx)(S.Z,{title:"BIO Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(o){return console.log(o)},children:(0,r.jsxs)($.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(Z.Z,{span:6,children:(0,r.jsxs)(T.A.Group,{size:24,children:[(0,r.jsx)(Z.Z,{span:24,children:(0,r.jsx)(q.Z,{width:"100%",height:200,src:C,fallback:C!==""||C===null?C:"http://mairaj.project.localhost.com/images/default/user-profile-image.png"})}),(0,r.jsx)(Z.Z,{span:24,style:{textAlign:"center"},children:(0,r.jsx)(T.A.Item,{name:"image_url",getValueFromEvent:b.h,children:(0,r.jsx)(ee.Z,{name:"file",onChange:function(o){if(console.log("file - onChange - info"),console.log(o),o.file.status!=="uploading"){if(o.file.status=="removed"&&N(""),o.file.status==="done"){var i;N(o==null||(i=o.file)===null||i===void 0||(i=i.response)===null||i===void 0?void 0:i.url)}o.file.status==="error"&&B.ZP.error("".concat(o.file.name," file upload failed."))}},maxCount:1,action:"/api/file-manager/upload",data:{directory:"users"},onRemove:function(o){console.log("file is removed"),console.log(o),(0,R.request)("/api/file-manager/delete",{method:"DELETE",data:{filename:o==null?void 0:o.name,directory:"users"}}).then(function(){var i=u()(a()().mark(function Q(m){return a()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:console.log("api_response"),console.log(m);case 2:case"end":return U.stop()}},Q)}));return function(Q){return i.apply(this,arguments)}}())},children:(0,r.jsx)(L.ZP,{type:"primary",icon:(0,r.jsx)(G.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(o){},children:"Change Image"})})})})]})}),(0,r.jsxs)(Z.Z,{span:18,children:[(0,r.jsxs)(T.A.Group,{size:24,children:[(0,r.jsx)(W.Z,{name:"name",label:"Name",placeholder:"Type Your Name",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(W.Z,{label:"Email",name:"email",placeholder:"info@example.com etc.",rules:[{required:!0}],disabled:!0,colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsxs)(T.A.Group,{size:24,children:[(0,r.jsx)(J.Z,{label:"Date of Birth",name:"date_of_birth",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(W.Z,{name:"mobile_no",label:"Mobile No",placeholder:"Type Your Mobile No",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsx)(T.A.Group,{size:24,children:(0,r.jsx)(X.Z,{name:"bio_data",label:"Biographical Info",fieldProps:{rows:6},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})]})]})})})]})};O.default=j}}]);

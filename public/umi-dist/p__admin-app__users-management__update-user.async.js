"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[534],{51042:function(z,D,e){var i=e(1413),m=e(67294),_=e(42110),p=e(91146),d=function(u,M){return m.createElement(p.Z,(0,i.Z)((0,i.Z)({},u),{},{ref:M,icon:_.Z}))},a=m.forwardRef(d);D.Z=a},88484:function(z,D,e){e.d(D,{Z:function(){return u}});var i=e(1413),m=e(67294),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},p=_,d=e(91146),a=function(j,L){return m.createElement(d.Z,(0,i.Z)((0,i.Z)({},j),{},{ref:L,icon:p}))},C=m.forwardRef(a),u=C},50335:function(z,D,e){e.d(D,{Z:function(){return r}});var i=e(1413),m=e(91),_=e(67294),p=e(66758),d=e(68256),a=e(85893),C=["proFieldProps","fieldProps"],u="date",M=_.forwardRef(function(l,h){var g=l.proFieldProps,E=l.fieldProps,f=(0,m.Z)(l,C),P=(0,_.useContext)(p.Z);return(0,a.jsx)(d.Z,(0,i.Z)({ref:h,valueType:u,fieldProps:(0,i.Z)({getPopupContainer:P.getPopupContainer},E),proFieldProps:g,filedConfig:{valueType:u,customLightMode:!0}},f))}),j=M,L=["proFieldProps","fieldProps"],Y="dateMonth",W=_.forwardRef(function(l,h){var g=l.proFieldProps,E=l.fieldProps,f=(0,m.Z)(l,L),P=(0,_.useContext)(p.Z);return(0,a.jsx)(d.Z,(0,i.Z)({ref:h,valueType:Y,fieldProps:(0,i.Z)({getPopupContainer:P.getPopupContainer},E),proFieldProps:g,filedConfig:{valueType:Y,customLightMode:!0}},f))}),J=W,X=["fieldProps"],F="dateQuarter",q=_.forwardRef(function(l,h){var g=l.fieldProps,E=(0,m.Z)(l,X),f=(0,_.useContext)(p.Z);return(0,a.jsx)(d.Z,(0,i.Z)({ref:h,valueType:F,fieldProps:(0,i.Z)({getPopupContainer:f.getPopupContainer},g),filedConfig:{valueType:F,customLightMode:!0}},E))}),G=q,T=["proFieldProps","fieldProps"],K="dateWeek",ee=_.forwardRef(function(l,h){var g=l.proFieldProps,E=l.fieldProps,f=(0,m.Z)(l,T),P=(0,_.useContext)(p.Z);return(0,a.jsx)(d.Z,(0,i.Z)({ref:h,valueType:K,fieldProps:(0,i.Z)({getPopupContainer:P.getPopupContainer},E),proFieldProps:g,filedConfig:{valueType:K,customLightMode:!0}},f))}),re=ee,oe=["proFieldProps","fieldProps"],V="dateYear",R=_.forwardRef(function(l,h){var g=l.proFieldProps,E=l.fieldProps,f=(0,m.Z)(l,oe),P=(0,_.useContext)(p.Z);return(0,a.jsx)(d.Z,(0,i.Z)({ref:h,valueType:V,fieldProps:(0,i.Z)({getPopupContainer:P.getPopupContainer},E),proFieldProps:g,filedConfig:{valueType:V,customLightMode:!0}},f))}),Z=R,U=j;U.Week=re,U.Month=J,U.Quarter=G,U.Year=Z,U.displayName="ProFormComponent";var r=U},58547:function(z,D,e){e.d(D,{h:function(){return m}});var i=e(67294),m=function(d){return Array.isArray(d)?d:d&&d.fileList},_=function(d){return new Promise(function(a,C){var u=new FileReader;u.readAsDataURL(d.file.originFileObj),u.onload=function(){var M=u.result;a(M)},u.onerror=function(M){return C(M)}})}},84381:function(z,D,e){e.r(D);var i=e(97857),m=e.n(i),_=e(5574),p=e.n(_),d=e(15009),a=e.n(d),C=e(99289),u=e.n(C),M=e(6110),j=e(34994),L=e(2236),Y=e(38345),W=e(5966),J=e(50335),X=e(90672),F=e(2453),q=e(8232),G=e(71230),T=e(15746),K=e(83622),ee=e(95715),re=e(66476),oe=e(51042),V=e(88484),R=e(67294),Z=e(76772),U=e(58547),r=e(85893),l=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(b){setTimeout(function(){b(!0)},P)})},h={image_url:"",name:"",email:"",date_of_birth:"",mobile_no:"",bio_data:""},g=function(){var f=u()(a()().mark(function P(b,n){var k;return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",n),v.prev=2,k={image_url:b,name:n==null?void 0:n.name,email:n==null?void 0:n.email,date_of_birth:n==null?void 0:n.date_of_birth,mobile_no:n==null?void 0:n.mobile_no,bio_data:n==null?void 0:n.bio_data},v.next=6,(0,Z.request)("/api/users/"+(n==null?void 0:n.user_id),{method:"PUT",data:k}).then(function(){var y=u()(a()().mark(function H(O){var A,S;return a()().wrap(function($){for(;;)switch($.prev=$.next){case 0:console.log("api_response"),console.log(O),(O==null||(A=O.data)===null||A===void 0?void 0:A.id)>0&&(F.ZP.success("Submitted successfully"),Z.history.push("/admin-app/users/edit/"+(O==null||(S=O.data)===null||S===void 0?void 0:S.id)));case 3:case"end":return $.stop()}},H)}));return function(H){return y.apply(this,arguments)}}()).catch(function(y){console.log(y)});case 6:return v.abrupt("return",v.sent);case 9:v.prev=9,v.t0=v.catch(2),console.log("api_response - error"),console.log(v.t0);case 13:return v.abrupt("return",!0);case 14:case"end":return v.stop()}},P,null,[[2,9]])}));return function(b,n){return f.apply(this,arguments)}}(),E=function(){var P=(0,Z.useParams)(),b=q.Z.useForm(),n=p()(b,1),k=n[0],ue=(0,R.useState)(0),v=p()(ue,2),y=v[0],H=v[1],O=(0,R.useState)(""),A=p()(O,2),S=A[0],_e=A[1],$=(0,R.useState)(S),ce=p()($,2),I=ce[0],me=ce[1];return(0,R.useEffect)(function(){H(P.id)},[]),(0,r.jsxs)(M._z,{children:[(0,r.jsxs)(G.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(T.Z,{flex:"auto"}),(0,r.jsx)(T.Z,{flex:"100px",children:(0,r.jsxs)(K.ZP,{type:"primary",onClick:function(){Z.history.push("/admin-app/users/new")},style:{marginBlockEnd:15},children:[(0,r.jsx)(oe.Z,{})," New"]},"new")})]}),(0,r.jsx)(j.A,{layout:"vertical",grid:!0,form:k,initialValues:h,params:{user_id:y},request:u()(a()().mark(function x(){var o,s=arguments;return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(o=s.length>0&&s[0]!==void 0?s[0]:{},console.log("proform-params"),console.log(o),(o==null?void 0:o.user_id)!=0){c.next=5;break}return c.abrupt("return");case 5:return c.next=7,l(2e3);case 7:return c.next=9,(0,Z.request)("/api/users/"+(o==null?void 0:o.user_id),{method:"GET"}).then(function(){var Q=u()(a()().mark(function B(t){var ae,ne,te,le,ie,se,de;return a()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return console.log("api_response"),console.log(t),_e(t==null||(ae=t.data)===null||ae===void 0?void 0:ae.image_url),w.abrupt("return",m()(m()({},h),{},{image_url:t==null||(ne=t.data)===null||ne===void 0?void 0:ne.image_url,name:t==null||(te=t.data)===null||te===void 0?void 0:te.name,email:t==null||(le=t.data)===null||le===void 0?void 0:le.email,date_of_birth:t==null||(ie=t.data)===null||ie===void 0?void 0:ie.date_of_birth,mobile_no:t==null||(se=t.data)===null||se===void 0?void 0:se.mobile_no,bio_data:t==null||(de=t.data)===null||de===void 0?void 0:de.bio_data}));case 4:case"end":return w.stop()}},B)}));return function(B){return Q.apply(this,arguments)}}()).catch(function(Q){console.log(Q)});case 9:return c.abrupt("return",c.sent);case 10:case"end":return c.stop()}},x)})),onFinish:function(){var x=u()(a()().mark(function o(s){return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return console.log(s),c.next=3,l(1e3);case 3:return s.user_id=y,s.image_url=I,c.next=7,g(I,s);case 7:case"end":return c.stop()}},o)}));return function(o){return x.apply(this,arguments)}}(),formProps:{validateMessages:{required:"This is required"}},submitter:{render:function(o,s){return(0,r.jsx)(L.S,{children:s})}},children:(0,r.jsx)(Y.Z,{title:"BIO Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(o){return console.log(o)},children:(0,r.jsxs)(G.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(T.Z,{span:6,children:(0,r.jsxs)(j.A.Group,{size:24,children:[(0,r.jsx)(T.Z,{span:24,children:(0,r.jsx)(ee.Z,{width:"100%",height:200,src:I,fallback:I!==""||I===null?I:"http://mairaj.project.localhost.com/images/default/user-profile-image.png"})}),(0,r.jsx)(T.Z,{span:24,style:{textAlign:"center"},children:(0,r.jsx)(j.A.Item,{name:"image_url",getValueFromEvent:U.h,children:(0,r.jsx)(re.Z,{name:"file",onChange:function(o){if(console.log("file - onChange - info"),console.log(o),o.file.status!=="uploading"){if(o.file.status=="removed"&&me(""),o.file.status==="done"){var s;me(o==null||(s=o.file)===null||s===void 0||(s=s.response)===null||s===void 0?void 0:s.url)}o.file.status==="error"&&F.ZP.error("".concat(o.file.name," file upload failed."))}},maxCount:1,action:"/api/file-manager/upload",data:{directory:"users"},onRemove:function(o){console.log("file is removed"),console.log(o),(0,Z.request)("/api/file-manager/delete",{method:"DELETE",data:{filename:o==null?void 0:o.name,directory:"users"}}).then(function(){var s=u()(a()().mark(function N(c){return a()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:console.log("api_response"),console.log(c);case 2:case"end":return B.stop()}},N)}));return function(N){return s.apply(this,arguments)}}())},children:(0,r.jsx)(K.ZP,{type:"primary",icon:(0,r.jsx)(V.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(o){},children:"Change Image"})})})})]})}),(0,r.jsxs)(T.Z,{span:18,children:[(0,r.jsxs)(j.A.Group,{size:24,children:[(0,r.jsx)(W.Z,{name:"name",label:"Name",placeholder:"Type Your Name",colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(W.Z,{label:"Email",name:"email",placeholder:"info@example.com etc.",rules:[{required:!0}],disabled:!0,colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsxs)(j.A.Group,{size:24,children:[(0,r.jsx)(J.Z,{label:"Date of Birth",name:"date_of_birth",colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(W.Z,{name:"mobile_no",label:"Mobile No",placeholder:"Type Your Mobile No",colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsx)(j.A.Group,{size:24,children:(0,r.jsx)(X.Z,{name:"bio_data",label:"Biographical Info",fieldProps:{rows:6},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})]})]})})})]})};D.default=E}}]);

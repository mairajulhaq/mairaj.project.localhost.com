"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[534],{51042:function(k,C,e){var d=e(1413),m=e(67294),u=e(42110),p=e(91146),s=function(_,D){return m.createElement(p.Z,(0,d.Z)((0,d.Z)({},_),{},{ref:D,icon:u.Z}))},n=m.forwardRef(s);C.Z=n},38345:function(k,C,e){var d=e(1413),m=e(53911),u=e(44962),p=e(13286),s=e(85893),n=function(D){return(0,s.jsx)(m.Z,(0,d.Z)({bodyStyle:{padding:0}},D))},E=m.Z;E.isProCard=!0,E.Divider=u.Z,E.TabPane=p.Z,E.Group=n,C.Z=E},50335:function(k,C,e){e.d(C,{Z:function(){return r}});var d=e(1413),m=e(91),u=e(67294),p=e(66758),s=e(57812),n=e(85893),E=["proFieldProps","fieldProps"],_="date",D=u.forwardRef(function(l,g){var j=l.proFieldProps,M=l.fieldProps,f=(0,m.Z)(l,E),P=(0,u.useContext)(p.Z);return(0,n.jsx)(s.Z,(0,d.Z)({ref:g,valueType:_,fieldProps:(0,d.Z)({getPopupContainer:P.getPopupContainer},M),proFieldProps:j,filedConfig:{valueType:_,customLightMode:!0}},f))}),x=D,ee=["proFieldProps","fieldProps"],$="dateMonth",O=u.forwardRef(function(l,g){var j=l.proFieldProps,M=l.fieldProps,f=(0,m.Z)(l,ee),P=(0,u.useContext)(p.Z);return(0,n.jsx)(s.Z,(0,d.Z)({ref:g,valueType:$,fieldProps:(0,d.Z)({getPopupContainer:P.getPopupContainer},M),proFieldProps:j,filedConfig:{valueType:$,customLightMode:!0}},f))}),re=O,oe=["fieldProps"],G="dateQuarter",ae=u.forwardRef(function(l,g){var j=l.fieldProps,M=(0,m.Z)(l,oe),f=(0,u.useContext)(p.Z);return(0,n.jsx)(s.Z,(0,d.Z)({ref:g,valueType:G,fieldProps:(0,d.Z)({getPopupContainer:f.getPopupContainer},j),filedConfig:{valueType:G,customLightMode:!0}},M))}),N=ae,y=["proFieldProps","fieldProps"],z="dateWeek",te=u.forwardRef(function(l,g){var j=l.proFieldProps,M=l.fieldProps,f=(0,m.Z)(l,y),P=(0,u.useContext)(p.Z);return(0,n.jsx)(s.Z,(0,d.Z)({ref:g,valueType:z,fieldProps:(0,d.Z)({getPopupContainer:P.getPopupContainer},M),proFieldProps:j,filedConfig:{valueType:z,customLightMode:!0}},f))}),ne=te,le=["proFieldProps","fieldProps"],Q="dateYear",Y=u.forwardRef(function(l,g){var j=l.proFieldProps,M=l.fieldProps,f=(0,m.Z)(l,le),P=(0,u.useContext)(p.Z);return(0,n.jsx)(s.Z,(0,d.Z)({ref:g,valueType:Q,fieldProps:(0,d.Z)({getPopupContainer:P.getPopupContainer},M),proFieldProps:j,filedConfig:{valueType:Q,customLightMode:!0}},f))}),b=Y,A=x;A.Week=ne,A.Month=re,A.Quarter=N,A.Year=b,A.displayName="ProFormComponent";var r=A},58547:function(k,C,e){e.d(C,{h:function(){return m}});var d=e(67294),m=function(s){return Array.isArray(s)?s:s&&s.fileList},u=function(s){return new Promise(function(n,E){var _=new FileReader;_.readAsDataURL(s.file.originFileObj),_.onload=function(){var D=_.result;n(D)},_.onerror=function(D){return E(D)}})}},84381:function(k,C,e){e.r(C);var d=e(97857),m=e.n(d),u=e(5574),p=e.n(u),s=e(15009),n=e.n(s),E=e(99289),_=e.n(E),D=e(6110),x=e(34994),ee=e(2236),$=e(38345),O=e(5966),re=e(50335),oe=e(90672),G=e(2453),ae=e(47019),N=e(71230),y=e(15746),z=e(83622),te=e(95715),ne=e(66476),le=e(51042),Q=e(88484),Y=e(67294),b=e(76772),A=e(58547),r=e(85893),l=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return new Promise(function(R){setTimeout(function(){R(!0)},P)})},g={image_url:"",name:"",role:"",email:"",date_of_birth:"",mobile_no:"",bio_data:"",address:""},j=function(){var f=_()(n()().mark(function P(R,o){var H;return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return console.log("onFinishHandlerForm"),console.log("Received values of form: ",o),v.prev=2,H={image_url:R,name:o==null?void 0:o.name,role:"user",email:o==null?void 0:o.email,date_of_birth:o==null?void 0:o.date_of_birth,mobile_no:o==null?void 0:o.mobile_no,bio_data:o==null?void 0:o.bio_data,address:{street:o==null?void 0:o.street,country:o==null?void 0:o.country,province:o==null?void 0:o.province,city:o==null?void 0:o.city,postal_code:o==null?void 0:o.postal_code}},v.next=6,(0,b.request)("/api/users/"+(o==null?void 0:o.user_id),{method:"PUT",data:H}).then(function(){var I=_()(n()().mark(function V(Z){var W,T;return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:console.log("api_response"),console.log(Z),(Z==null||(W=Z.data)===null||W===void 0?void 0:W.id)>0&&(G.ZP.success("Submitted successfully"),b.history.push("/admin-app/users/edit/"+(Z==null||(T=Z.data)===null||T===void 0?void 0:T.id)));case 3:case"end":return h.stop()}},V)}));return function(V){return I.apply(this,arguments)}}()).catch(function(I){console.log(I)});case 6:return v.abrupt("return",v.sent);case 9:v.prev=9,v.t0=v.catch(2),console.log("api_response - error"),console.log(v.t0);case 13:return v.abrupt("return",!0);case 14:case"end":return v.stop()}},P,null,[[2,9]])}));return function(R,o){return f.apply(this,arguments)}}(),M=function(){var P=(0,b.useParams)(),R=ae.Z.useForm(),o=p()(R,1),H=o[0],pe=(0,Y.useState)(0),v=p()(pe,2),I=v[0],V=v[1],Z=(0,Y.useState)("http://mairaj.project.localhost.com/images/default/user-profile-image.png"),W=p()(Z,2),T=W[0],J=W[1];return(0,Y.useEffect)(function(){V(P.id)},[]),(0,r.jsxs)(D._z,{children:[(0,r.jsxs)(N.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(y.Z,{flex:"auto"}),(0,r.jsx)(y.Z,{flex:"100px",children:(0,r.jsxs)(z.ZP,{type:"primary",onClick:function(){b.history.push("/admin-app/users/new")},style:{marginBlockEnd:15},children:[(0,r.jsx)(le.Z,{})," New"]},"new")})]}),(0,r.jsxs)(x.A,{layout:"vertical",grid:!0,form:H,initialValues:g,params:{user_id:I},request:_()(n()().mark(function h(){var t,i=arguments;return n()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=i.length>0&&i[0]!==void 0?i[0]:{},console.log("proform-params"),console.log(t),(t==null?void 0:t.user_id)!=0){c.next=5;break}return c.abrupt("return");case 5:return c.next=7,l(2e3);case 7:return c.next=9,(0,b.request)("/api/users/"+(t==null?void 0:t.user_id),{method:"GET"}).then(function(){var w=_()(n()().mark(function B(a){var ie,de,se,ue,_e,ce,me,U,L,F,K,S;return n()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return console.log("api_response"),console.log(a),J(a==null||(ie=a.data)===null||ie===void 0?void 0:ie.image_url),q.abrupt("return",m()(m()({},g),{},{image_url:a==null||(de=a.data)===null||de===void 0?void 0:de.image_url,name:a==null||(se=a.data)===null||se===void 0?void 0:se.name,email:a==null||(ue=a.data)===null||ue===void 0?void 0:ue.email,date_of_birth:a==null||(_e=a.data)===null||_e===void 0?void 0:_e.date_of_birth,mobile_no:a==null||(ce=a.data)===null||ce===void 0?void 0:ce.mobile_no,bio_data:a==null||(me=a.data)===null||me===void 0?void 0:me.bio_data,street:a==null||(U=a.data)===null||U===void 0||(U=U.address)===null||U===void 0?void 0:U.street,country:a==null||(L=a.data)===null||L===void 0||(L=L.address)===null||L===void 0?void 0:L.country,province:a==null||(F=a.data)===null||F===void 0||(F=F.address)===null||F===void 0?void 0:F.province,city:a==null||(K=a.data)===null||K===void 0||(K=K.address)===null||K===void 0?void 0:K.city,postal_code:a==null||(S=a.data)===null||S===void 0||(S=S.address)===null||S===void 0?void 0:S.postal_code}));case 4:case"end":return q.stop()}},B)}));return function(B){return w.apply(this,arguments)}}()).catch(function(w){console.log(w)});case 9:return c.abrupt("return",c.sent);case 10:case"end":return c.stop()}},h)})),onFinish:function(){var h=_()(n()().mark(function t(i){return n()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return console.log(i),c.next=3,l(1e3);case 3:return i.user_id=I,i.image_url=T,c.next=7,j(T,i);case 7:case"end":return c.stop()}},t)}));return function(t){return h.apply(this,arguments)}}(),formProps:{validateMessages:{required:"This is required"}},submitter:{render:function(t,i){return(0,r.jsx)(ee.S,{children:i})}},children:[(0,r.jsx)($.Z,{title:"BIO Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},onCollapse:function(t){return console.log(t)},children:(0,r.jsxs)(N.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,r.jsx)(y.Z,{span:6,children:(0,r.jsxs)(x.A.Group,{size:24,children:[(0,r.jsx)(y.Z,{span:24,children:(0,r.jsx)(te.Z,{width:"100%",height:200,src:T,fallback:T!==""||T===null?T:"http://mairaj.project.localhost.com/images/default/user-profile-image.png"})}),(0,r.jsx)(y.Z,{span:24,style:{textAlign:"center"},children:(0,r.jsx)(x.A.Item,{name:"image_url",getValueFromEvent:A.h,children:(0,r.jsx)(ne.Z,{name:"file",onChange:function(t){if(console.log("file - onChange - info"),console.log(t),t.file.status!=="uploading"){if(t.file.status=="removed"&&J(""),t.file.status==="done"){var i;J(t==null||(i=t.file)===null||i===void 0||(i=i.response)===null||i===void 0?void 0:i.url)}t.file.status==="error"&&G.ZP.error("".concat(t.file.name," file upload failed."))}},maxCount:1,action:"/api/file-manager/upload",data:{directory:"users"},onRemove:function(t){console.log("file is removed"),console.log(t),(0,b.request)("/api/file-manager/delete",{method:"DELETE",data:{filename:t==null?void 0:t.name,directory:"users"}}).then(function(){var i=_()(n()().mark(function X(c){return n()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:console.log("api_response"),console.log(c);case 2:case"end":return B.stop()}},X)}));return function(X){return i.apply(this,arguments)}}())},children:(0,r.jsx)(z.ZP,{type:"primary",icon:(0,r.jsx)(Q.Z,{}),style:{margin:"10px 0px 0px 0px"},onClick:function(t){},children:"Change Image"})})})})]})}),(0,r.jsxs)(y.Z,{span:18,children:[(0,r.jsxs)(x.A.Group,{size:24,children:[(0,r.jsx)(O.Z,{name:"name",label:"Name",placeholder:"Type Your Name",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(O.Z,{label:"Email",name:"email",placeholder:"info@example.com etc.",rules:[{required:!0}],disabled:!0,colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsxs)(x.A.Group,{size:24,children:[(0,r.jsx)(re.Z,{label:"Date of Birth",name:"date_of_birth",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(O.Z,{name:"mobile_no",label:"Mobile No",placeholder:"Type Your Mobile No",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsx)(x.A.Group,{size:24,children:(0,r.jsx)(oe.Z,{name:"bio_data",label:"Biographical Info",fieldProps:{rows:6},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})]})]})}),(0,r.jsxs)($.Z,{title:"Address Details",bordered:!0,headerBordered:!0,collapsible:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:[(0,r.jsx)(x.A.Group,{size:24,children:(0,r.jsx)(O.Z,{name:"street",label:"Street address",placeholder:"Please Enter Street Address",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,r.jsxs)(x.A.Group,{size:24,children:[(0,r.jsx)(O.Z,{name:"country",label:"Country / Region",placeholder:"Please Enter Country / Region",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(O.Z,{name:"province",label:"Province",placeholder:"Please Enter Province",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,r.jsxs)(x.A.Group,{size:24,children:[(0,r.jsx)(O.Z,{name:"city",label:"City",placeholder:"Please Enter City",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,r.jsx)(O.Z,{name:"postal_code",label:"Postal Code / ZIP",placeholder:"Please Enter Post Code / ZIP",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]})]})]})]})};C.default=M}}]);

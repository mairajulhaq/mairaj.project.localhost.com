"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[815],{15241:function(Ee,ee,n){n.r(ee),n.d(ee,{default:function(){return Fe},waitTime:function(){return X},waitTimePromise:function(){return ne}});var le=n(97857),K=n.n(le),oe=n(5574),z=n.n(oe),se=n(15009),d=n.n(se),de=n(99289),j=n.n(de),ue=n(40110),ce=n(55287),he=n(88641),ve=n(14079),ge=n(80638),fe=n(42525),te=n(4393),L=n(71230),G=n(15746),me=n(55102),pe=n(78045),xe=n(83062),ae=n(83622),A=n(76772),x=n(67294),ye=n(37476),k=n(38345),B=n(34994),O=n(5966),Se=n(90672),Q=n(91319),je=n(95715),Ie=n(27484),J=n.n(Ie),Ce=n(86738),we=n(63783),Pe=n(85875),e=n(85893),De=function(i){var h=i.rowId,g=i.onFinish,o=i.userData,u=i.categoryId,m=i.tutorData,P=i.feeAmount,M=i.serviceCharges,W=(0,x.useState)([]),$=z()(W,2),t=$[0],D=$[1];return(0,x.useEffect)(function(){return(0,A.request)("/api/categories/"+u,{method:"GET"}).then(function(y){var S;D(y==null||(S=y.data)===null||S===void 0?void 0:S.title),console.log("api_response"),console.log(y)})},[]),(0,e.jsx)(Ce.Z,{title:"Generate the Fee Voucher",description:"Are you sure you want to generate this Fee Voucher?",icon:(0,e.jsx)(we.Z,{style:{color:"red"}}),placement:"left",onConfirm:j()(d()().mark(function y(){var S;return d()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return S={title:"Fee Voucher - user:"+(o==null?void 0:o.name)+" - Category:"+t+" - Tutor:"+(m==null?void 0:m.name),description:"This Fee Voucher is generated for user:"+(o==null?void 0:o.name)+" regarding enrollment into the Category:"+t+" with Tutor:"+(m==null?void 0:m.name)+".",amount:P+M,due_date:J()().add(30,"days").format("YYYY-MM-DD"),status:"unpaid",payment_proof_image_url:"",verification_status:"pending",category_id:u,tutor_id:m==null?void 0:m.id,fee_package_id:h,user_id:o==null?void 0:o.id,author_id:o==null?void 0:o.id},console.log("request_data"),console.log(S),I.next=5,(0,A.request)("/api/fee-vouchers",{method:"POST",data:S}).then(function(N){N.status===!0?g({status:!0,text_message:"Fee Voucher generated successfully"}):g({status:!1,text_message:"Failed to generate Fee Voucher: Invalid response"})});case 5:return I.abrupt("return",I.sent);case 6:case"end":return I.stop()}},y)})),okText:"Yes",cancelText:"No",children:(0,e.jsxs)(ae.ZP,{children:[(0,e.jsx)(Pe.Z,{})," Generate Fee Voucher"]},"generate_fee_voucher")})},Te=De,Ze=function(i){var h,g,o,u,m,P,M,W=i.visible,$=i.onVisiblityChange,t=i.viewModelData,D=i.waitTime,y=i.categoryId,S=i.userData,Y=(0,x.useRef)(),I=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"University/Institution",dataIndex:"institute",key:"table-column-university-institution",hideInSearch:!0},{title:"Degree",dataIndex:"degree",key:"table-column-degree",hideInSearch:!0},{title:"Board",dataIndex:"board",key:"table-column-board",hideInSearch:!0},{title:"Year of Completion",dataIndex:"completion_date",key:"table-column-completion_date",hideInForm:!0,hideInSearch:!0}],N=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"Job Title",dataIndex:"title",key:"table-column-job-title",hideInSearch:!0},{title:"Institution/Organization",dataIndex:"organization",key:"table-column-institution-organization",hideInSearch:!0},{title:"Start Date",dataIndex:"start_date",key:"table-column-start-date",hideInForm:!0,hideInSearch:!0},{title:"End Date",dataIndex:"end_date",key:"table-column-end-date",hideInForm:!0,hideInSearch:!0}],q=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"Title",dataIndex:"title",key:"table-column-title",hideInSearch:!0},{title:"Description",dataIndex:"description",key:"table-column-description",hideInSearch:!0},{title:"Fee Amount",dataIndex:"fee_amount",key:"table-column-fee-amount",hideInSearch:!0},{title:"Service Charges",dataIndex:"service_charges_amount",key:"table-column-service-charges-amount",hideInSearch:!0},{title:"Created Date",dataIndex:"created_at",key:"table-column-created-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(l){return(0,e.jsx)("p",{children:J()(new Date(l)).format("DD-MM-YYYY")})}},{title:"Updated Date",dataIndex:"updated_at",key:"table-column-updated-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(l){return(0,e.jsx)("p",{children:J()(new Date(l)).format("DD-MM-YYYY")})}},{title:"Actions",valueType:"option",key:"table-column-actions",render:function(l,v,C,p){return[(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Te,{rowId:v==null?void 0:v.id,onFinish:function(T){var s=T.status,w=T.text_message;if(s){var Z;message.success(w),(Z=Y.current)===null||Z===void 0||Z.reload()}else message.error(w)},userData:S,categoryId:y,tutorData:t,feeAmount:v==null?void 0:v.fee_amount,serviceCharges:v==null?void 0:v.service_charges_amount})})]}}];return(0,e.jsxs)(ye.Y,{open:W,onOpenChange:function(l){l||$(l)},modalProps:{destroyOnClose:!0,getContainer:function(){document.body},width:1200},submitter:{resetButtonProps:{style:{display:"none"}},submitButtonProps:{style:{display:"none"}}},grid:!0,preserve:!1,submitTimeout:2e3,onFinish:function(){var f=j()(d()().mark(function l(v){return d()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,D(2e3);case 2:return p.abrupt("return",!0);case 3:case"end":return p.stop()}},l)}));return function(l){return f.apply(this,arguments)}}(),children:[(0,e.jsx)(k.Z,{title:"BIO Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,e.jsxs)(L.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsx)(G.Z,{span:6,children:(0,e.jsx)(B.A.Group,{size:24,children:(0,e.jsx)(G.Z,{span:24,children:(0,e.jsx)(je.Z,{width:"100%",height:200,src:t==null?void 0:t.image_url})})})}),(0,e.jsxs)(G.Z,{span:18,children:[(0,e.jsxs)(B.A.Group,{size:24,children:[(0,e.jsx)(O.Z,{name:"name",label:"Name",initialValue:t==null?void 0:t.name,fieldProps:{readOnly:!0},placeholder:"Type Your Name",colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,e.jsx)(O.Z,{label:"Email",name:"email",initialValue:t==null?void 0:t.email,placeholder:"info@example.com etc.",rules:[{required:!0}],fieldProps:{readOnly:!0},colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,e.jsx)(B.A.Group,{size:24,children:(0,e.jsx)(Se.Z,{name:"biographical_info",label:"Biographical Info",initialValue:t==null?void 0:t.bio_data,fieldProps:{rows:6,readOnly:!0},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})]})]})}),(0,e.jsxs)(k.Z,{title:"Address Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:[(0,e.jsx)(B.A.Group,{size:24,children:(0,e.jsx)(O.Z,{name:"street",label:"Street address",initialValue:t==null||(h=t.address)===null||h===void 0?void 0:h.street,fieldProps:{readOnly:!0},placeholder:"Please Enter Street Address",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,e.jsxs)(B.A.Group,{size:24,children:[(0,e.jsx)(O.Z,{name:"country",label:"Country / Region",initialValue:t==null||(g=t.address)===null||g===void 0?void 0:g.country,fieldProps:{readOnly:!0},placeholder:"Please Enter Country / Region",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,e.jsx)(O.Z,{name:"province",label:"Province",initialValue:t==null||(o=t.address)===null||o===void 0?void 0:o.province,fieldProps:{readOnly:!0},placeholder:"Please Enter Province",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,e.jsxs)(B.A.Group,{size:24,children:[(0,e.jsx)(O.Z,{name:"city",label:"City",initialValue:t==null||(u=t.address)===null||u===void 0?void 0:u.city,fieldProps:{readOnly:!0},placeholder:"Please Enter City",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,e.jsx)(O.Z,{name:"postal_code",label:"Postal Code / ZIP",initialValue:t==null||(m=t.address)===null||m===void 0?void 0:m.postal_code,fieldProps:{readOnly:!0},placeholder:"Please Enter Post Code / ZIP",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]})]}),(0,e.jsx)(k.Z,{title:"Qualification Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,e.jsx)(Q.Z,{rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100],onChange:function(l){return console.log(l)}},request:j()(d()().mark(function f(){var l,v,C,p,r=arguments;return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=r.length>0&&r[0]!==void 0?r[0]:{},v=r.length>1?r[1]:void 0,C=r.length>2?r[2]:void 0,p=r.length>3?r[3]:void 0,s.next=6,D(2e3);case 6:case"end":return s.stop()}},f)})),dataSource:t!=null&&(P=t.qualifications)!==null&&P!==void 0&&P.length?t.qualifications:[],columns:I})}),(0,e.jsx)(k.Z,{title:"Experience Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,e.jsx)(Q.Z,{rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100],onChange:function(l){return console.log(l)}},request:j()(d()().mark(function f(){var l,v,C,p,r=arguments;return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=r.length>0&&r[0]!==void 0?r[0]:{},v=r.length>1?r[1]:void 0,C=r.length>2?r[2]:void 0,p=r.length>3?r[3]:void 0,s.next=6,D(2e3);case 6:case"end":return s.stop()}},f)})),dataSource:t!=null&&(M=t.experiences)!==null&&M!==void 0&&M.length?t.experiences:[],columns:N})}),(0,e.jsx)(k.Z,{title:"Fee Packages Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,e.jsx)(Q.Z,{actionRef:Y,rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100],onChange:function(l){return console.log(l)}},request:j()(d()().mark(function f(){var l,v,C,p,r=arguments;return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return l=r.length>0&&r[0]!==void 0?r[0]:{},v=r.length>1?r[1]:void 0,C=r.length>2?r[2]:void 0,p=r.length>3?r[3]:void 0,s.next=6,D(2e3);case 6:return s.next=8,(0,A.request)("/api/fee-packages",{params:{category_id:y,tutor_id:t==null?void 0:t.id,author_id:t==null?void 0:t.id,sort:K()({},v),pagination:K()({},l)}}).then(function(){var w=j()(d()().mark(function Z(R){return d()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",{data:R.data.data,total:R.data.total,current_page:R.data.current_page});case 1:case"end":return c.stop()}},Z)}));return function(Z){return w.apply(this,arguments)}}()).catch(function(w){console.log(w)});case 8:return s.abrupt("return",s.sent);case 9:case"end":return s.stop()}},f)})),columns:q})})]})},be=Ze,Ve=function(i,h){var g=/(<([^>]+)>)/gi,o=i.replace(g," ").trim(),u=o.split(" ");return u.length>h?u.slice(0,h).join(" ")+" ...":i},ne=function(){var F=j()(d()().mark(function i(){var h,g=arguments;return d()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h=g.length>0&&g[0]!==void 0?g[0]:100,u.abrupt("return",new Promise(function(m){setTimeout(function(){m(!0)},h)}));case 2:case"end":return u.stop()}},i)}));return function(){return F.apply(this,arguments)}}(),X=function(){var F=j()(d()().mark(function i(){var h,g=arguments;return d()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return h=g.length>0&&g[0]!==void 0?g[0]:100,u.next=3,ne(h);case 3:case"end":return u.stop()}},i)}));return function(){return F.apply(this,arguments)}}(),ze=te.Z.Meta,Oe=function(){var i=(0,A.useModel)("@@initialState"),h=i.initialState,g=i.loading,o=i.refresh,u=i.setInitialState;console.log("initialState"),console.log(h),console.log("loading"),console.log(g);var m=(0,x.useState)(""),P=z()(m,2),M=P[0],W=P[1],$=(0,x.useState)(!1),t=z()($,2),D=t[0],y=t[1],S=(0,x.useState)({}),Y=z()(S,2),I=Y[0],N=Y[1],q=(0,x.useState)([]),f=z()(q,2),l=f[0],v=f[1],C=(0,x.useState)(null),p=z()(C,2),r=p[0],T=p[1],s=(0,x.useState)(0),w=z()(s,2),Z=w[0],R=w[1];return(0,x.useEffect)(function(){R(h==null?void 0:h.currentUser)},[]),(0,x.useEffect)(function(){return(0,A.request)("/api/categories",{}).then(function(b){var c=b.data.data.map(function(a,V){return{value:a==null?void 0:a.id,label:a==null?void 0:a.title}});return v(c),console.log("table_data"),console.log(c),c})},[]),(0,x.useEffect)(function(){l.length>0&&r===null&&T(l[0].value)},[l]),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"page-banner-wrapper",children:[(0,e.jsx)(L.Z,{children:(0,e.jsx)(G.Z,{xs:24,sm:24,md:24,lg:24,xl:24,children:(0,e.jsx)("div",{className:"page-banner-content",children:(0,e.jsx)("h1",{children:"Tutor Hiring"})})})}),(0,e.jsx)(L.Z,{justify:"center",children:(0,e.jsx)(G.Z,{xs:20,sm:20,md:20,lg:20,xl:20,children:(0,e.jsx)("div",{className:"tutors-grid-filters",style:{marginBlockEnd:"20px"},children:(0,e.jsxs)("div",{className:"tutor-search-field",children:[(0,e.jsx)(me.Z,{size:"large",placeholder:"Search by Name or Email of Tutors",prefix:(0,e.jsx)(ue.Z,{}),style:{marginBlockEnd:"20px"},onChange:function(c){console.log("test search input"),console.log(c.target.value),W(c.target.value)}}),(0,e.jsx)(pe.ZP.Group,{options:l,onChange:function(c){console.log("e.target.value"),console.log(c.target.value),T(c.target.value)},value:r,optionType:"button",buttonStyle:"solid"})]})})})})]}),(0,e.jsx)(fe.Rs,{pagination:{defaultPageSize:6,showSizeChanger:!0,pageSizeOptions:[6,9,10,20,50,100]},showActions:"hover",grid:{gutter:16,column:3},itemCardProps:{prefixCls:"tutors-grid"},params:{searchInput:M,selected_category_id:r},request:function(){var b=j()(d()().mark(function c(a,V,H){return d()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return console.log("tutors-hiring - params"),console.log(a),console.log("tutors-hiring - params - sort"),console.log(V),console.log("tutors-hiring - params - filter"),console.log(H),E.next=8,X(2e3);case 8:return E.next=10,(0,A.request)("/api/users",{params:{sort:K()({},V),pagination:K()({},a),role:"tutor",search:a==null?void 0:a.searchInput,category_id:a==null?void 0:a.selected_category_id}}).then(function(){var re=j()(d()().mark(function ie(_){return d()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",{data:_.data.data,total:_.data.total,current_page:_.data.current_page});case 1:case"end":return U.stop()}},ie)}));return function(ie){return re.apply(this,arguments)}}()).catch(function(re){});case 10:return E.abrupt("return",E.sent);case 11:case"end":return E.stop()}},c)}));return function(c,a,V){return b.apply(this,arguments)}}(),metas:{content:{render:function(c,a){var V,H;return(0,e.jsxs)(te.Z,{style:{width:"100%",height:"630px"},actions:[(0,e.jsx)(xe.Z,{title:"Thank you for visiting! Explore the details of this Tutor.",children:(0,e.jsx)(ae.ZP,{type:"primary",icon:(0,e.jsx)(ce.Z,{}),size:"large",onClick:function(){N(a),y(!0)},children:"View Details"},"preview")})],cover:(0,e.jsx)("img",{alt:"example",src:a==null?void 0:a.image_url,style:{height:"300px"}}),children:[(0,e.jsx)("h2",{children:a==null?void 0:a.name}),(0,e.jsx)(ze,{description:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{children:a!=null&&a.bio_data?Ve(a==null?void 0:a.bio_data,18):""}),(0,e.jsxs)("p",{children:[(0,e.jsx)(he.Z,{})," ",a==null?void 0:a.email]}),(0,e.jsxs)("p",{children:[(0,e.jsx)(ve.Z,{})," ",(a==null||(V=a.qualifications)===null||V===void 0?void 0:V.length)>0?a.qualifications[0].degree:"-"]}),(0,e.jsxs)("p",{children:[(0,e.jsx)(ge.Z,{})," ",(a==null||(H=a.qualifications)===null||H===void 0?void 0:H.length)>0?a.qualifications[0].institute:"-"]})]})})]})}}}}),(0,e.jsx)(be,{visible:D,onVisiblityChange:function(c){var a=c.VisiblityStatus;y(a)},viewModelData:I,waitTime:X,categoryId:r,userData:Z})]})},Fe=Oe}}]);

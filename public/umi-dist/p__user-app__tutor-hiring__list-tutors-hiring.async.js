"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[815],{15241:function(Fe,_,a){a.r(_),a.d(_,{default:function(){return Me},waitTime:function(){return U},waitTimePromise:function(){return ae}});var le=a(97857),N=a.n(le),oe=a(5574),b=a.n(oe),se=a(15009),s=a.n(se),de=a(99289),x=a.n(de),ue=a(40110),ce=a(55287),he=a(88641),ge=a(14079),ve=a(80638),fe=a(42525),ee=a(4393),H=a(71230),B=a(15746),pe=a(55102),me=a(78045),xe=a(83062),te=a(83622),$=a(76772),p=a(67294),ye=a(37476),A=a(38345),F=a(34994),z=a(5966),Se=a(90672),K=a(91319),je=a(95715),Ie=a(27484),re=a.n(Ie),Ce=a(86738),we=a(63783),Pe=a(85875),e=a(85893),Ze=function(l){var c=l.rowId,g=l.onFinish,m=l.userData,u=l.categoryId,y=(0,p.useState)([]),S=b()(y,2),V=S[0],G=S[1];return(0,p.useEffect)(function(){return(0,$.request)("/api/categories"+u,{method:"GET"}).then(function(j){var t;G(j==null||(t=j.data)===null||t===void 0?void 0:t.title)})},[]),(0,e.jsx)(Ce.Z,{title:"Generate the Fee Voucher",description:"Are you sure you want to generate this Fee Voucher?",icon:(0,e.jsx)(we.Z,{style:{color:"red"}}),placement:"left",onConfirm:x()(s()().mark(function j(){var t;return s()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:t={title:"Fee Voucher - user:"+(m==null?void 0:m.name)+"- Category:"+V},console.log("request_data"),console.log(t);case 3:case"end":return I.stop()}},j)})),okText:"Yes",cancelText:"No",children:(0,e.jsxs)(te.ZP,{children:[(0,e.jsx)(Pe.Z,{})," Generate Fee Voucher"]},"generate_fee_voucher")})},De=Ze,Te=function(l){var c,g,m,u,y,S,V,G=l.visible,j=l.onVisiblityChange,t=l.viewModelData,M=l.waitTime,I=l.categoryId,L=l.userData,Y=(0,p.useRef)(),Q=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"University/Institution",dataIndex:"institute",key:"table-column-university-institution",hideInSearch:!0},{title:"Degree",dataIndex:"degree",key:"table-column-degree",hideInSearch:!0},{title:"Board",dataIndex:"board",key:"table-column-board",hideInSearch:!0},{title:"Year of Completion",dataIndex:"completion_date",key:"table-column-completion_date",hideInForm:!0,hideInSearch:!0}],J=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"Job Title",dataIndex:"title",key:"table-column-job-title",hideInSearch:!0},{title:"Institution/Organization",dataIndex:"organization",key:"table-column-institution-organization",hideInSearch:!0},{title:"Start Date",dataIndex:"start_date",key:"table-column-start-date",hideInForm:!0,hideInSearch:!0},{title:"End Date",dataIndex:"end_date",key:"table-column-end-date",hideInForm:!0,hideInSearch:!0}],X=[{title:"ID",dataIndex:"id",key:"table-column-id",hideInSearch:!0,sorter:!0,defaultSortOrder:"descend"},{title:"Title",dataIndex:"title",key:"table-column-title",hideInSearch:!0},{title:"Description",dataIndex:"description",key:"table-column-description",hideInSearch:!0},{title:"Fee Amount",dataIndex:"fee_amount",key:"table-column-fee-amount",hideInSearch:!0},{title:"Service Charges",dataIndex:"service_charges_amount",key:"table-column-service-charges-amount",hideInSearch:!0},{title:"Created Date",dataIndex:"created_at",key:"table-column-created-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(i){return(0,e.jsx)("p",{children:re()(new Date(i)).format("DD-MM-YYYY")})}},{title:"Updated Date",dataIndex:"updated_at",key:"table-column-updated-date",sorter:!0,hideInForm:!0,hideInSearch:!0,render:function(i){return(0,e.jsx)("p",{children:re()(new Date(i)).format("DD-MM-YYYY")})}},{title:"Actions",valueType:"option",key:"table-column-actions",render:function(i,f,C,v){return[(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(De,{rowId:f==null?void 0:f.id,onFinish:function(P){var o=P.status,w=P.text_message;if(o){var Z;message.success(w),(Z=Y.current)===null||Z===void 0||Z.reload()}else message.error(w)},userData:L,categoryId:I})})]}}];return(0,e.jsxs)(ye.Y,{open:G,onOpenChange:function(i){i||j(i)},modalProps:{destroyOnClose:!0,getContainer:function(){document.body},width:1200},submitter:{resetButtonProps:{style:{display:"none"}},submitButtonProps:{style:{display:"none"}}},grid:!0,preserve:!1,submitTimeout:2e3,onFinish:function(){var h=x()(s()().mark(function i(f){return s()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,M(2e3);case 2:return v.abrupt("return",!0);case 3:case"end":return v.stop()}},i)}));return function(i){return h.apply(this,arguments)}}(),children:[(0,e.jsx)(A.Z,{title:"BIO Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,e.jsxs)(H.Z,{gutter:{xs:8,sm:16,md:24,lg:32},children:[(0,e.jsx)(B.Z,{span:6,children:(0,e.jsx)(F.A.Group,{size:24,children:(0,e.jsx)(B.Z,{span:24,children:(0,e.jsx)(je.Z,{width:"100%",height:200,src:t==null?void 0:t.image_url})})})}),(0,e.jsxs)(B.Z,{span:18,children:[(0,e.jsxs)(F.A.Group,{size:24,children:[(0,e.jsx)(z.Z,{name:"name",label:"Name",initialValue:t==null?void 0:t.name,fieldProps:{readOnly:!0},placeholder:"Type Your Name",colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,e.jsx)(z.Z,{label:"Email",name:"email",initialValue:t==null?void 0:t.email,placeholder:"info@example.com etc.",rules:[{required:!0}],fieldProps:{readOnly:!0},colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,e.jsx)(F.A.Group,{size:24,children:(0,e.jsx)(Se.Z,{name:"biographical_info",label:"Biographical Info",initialValue:t==null?void 0:t.bio_data,fieldProps:{rows:6,readOnly:!0},placeholder:"Share a little biographical information to fill out your profile. This may be shown publicly. ",colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})})]})]})}),(0,e.jsxs)(A.Z,{title:"Address Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:[(0,e.jsx)(F.A.Group,{size:24,children:(0,e.jsx)(z.Z,{name:"street",label:"Street address",initialValue:t==null||(c=t.address)===null||c===void 0?void 0:c.street,fieldProps:{readOnly:!0},placeholder:"Please Enter Street Address",rules:[{required:!0}],colProps:{xs:24,sm:24,md:24,lg:24,xl:24}})}),(0,e.jsxs)(F.A.Group,{size:24,children:[(0,e.jsx)(z.Z,{name:"country",label:"Country / Region",initialValue:t==null||(g=t.address)===null||g===void 0?void 0:g.country,fieldProps:{readOnly:!0},placeholder:"Please Enter Country / Region",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,e.jsx)(z.Z,{name:"province",label:"Province",initialValue:t==null||(m=t.address)===null||m===void 0?void 0:m.province,fieldProps:{readOnly:!0},placeholder:"Please Enter Province",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]}),(0,e.jsxs)(F.A.Group,{size:24,children:[(0,e.jsx)(z.Z,{name:"city",label:"City",initialValue:t==null||(u=t.address)===null||u===void 0?void 0:u.city,fieldProps:{readOnly:!0},placeholder:"Please Enter City",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}}),(0,e.jsx)(z.Z,{name:"postal_code",label:"Postal Code / ZIP",initialValue:t==null||(y=t.address)===null||y===void 0?void 0:y.postal_code,fieldProps:{readOnly:!0},placeholder:"Please Enter Post Code / ZIP",rules:[{required:!0}],colProps:{xs:24,sm:24,md:12,lg:12,xl:12}})]})]}),(0,e.jsx)(A.Z,{title:"Qualification Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,e.jsx)(K.Z,{rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100],onChange:function(i){return console.log(i)}},request:x()(s()().mark(function h(){var i,f,C,v,n=arguments;return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=n.length>0&&n[0]!==void 0?n[0]:{},f=n.length>1?n[1]:void 0,C=n.length>2?n[2]:void 0,v=n.length>3?n[3]:void 0,o.next=6,M(2e3);case 6:case"end":return o.stop()}},h)})),dataSource:t!=null&&(S=t.qualifications)!==null&&S!==void 0&&S.length?t.qualifications:[],columns:Q})}),(0,e.jsx)(A.Z,{title:"Experience Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,e.jsx)(K.Z,{rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100],onChange:function(i){return console.log(i)}},request:x()(s()().mark(function h(){var i,f,C,v,n=arguments;return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=n.length>0&&n[0]!==void 0?n[0]:{},f=n.length>1?n[1]:void 0,C=n.length>2?n[2]:void 0,v=n.length>3?n[3]:void 0,o.next=6,M(2e3);case 6:case"end":return o.stop()}},h)})),dataSource:t!=null&&(V=t.experiences)!==null&&V!==void 0&&V.length?t.experiences:[],columns:J})}),(0,e.jsx)(A.Z,{title:"Fee Packages Details",bordered:!0,headerBordered:!0,size:"default",type:"inner",style:{marginBlockEnd:15,minWidth:800,maxWidth:"100%"},children:(0,e.jsx)(K.Z,{actionRef:Y,rowKey:"id",search:!1,options:!1,pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:[10,20,50,100],onChange:function(i){return console.log(i)}},request:x()(s()().mark(function h(){var i,f,C,v,n=arguments;return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=n.length>0&&n[0]!==void 0?n[0]:{},f=n.length>1?n[1]:void 0,C=n.length>2?n[2]:void 0,v=n.length>3?n[3]:void 0,o.next=6,M(2e3);case 6:return o.next=8,(0,$.request)("/api/fee-packages",{params:{category_id:I,tutor_id:t==null?void 0:t.id,author_id:t==null?void 0:t.id,sort:N()({},f),pagination:N()({},i)}}).then(function(){var w=x()(s()().mark(function Z(W){return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",{data:W.data.data,total:W.data.total,current_page:W.data.current_page});case 1:case"end":return d.stop()}},Z)}));return function(Z){return w.apply(this,arguments)}}()).catch(function(w){console.log(w)});case 8:return o.abrupt("return",o.sent);case 9:case"end":return o.stop()}},h)})),columns:X})})]})},be=Te,ze=function(l,c){var g=/(<([^>]+)>)/gi,m=l.replace(g," ").trim(),u=m.split(" ");return u.length>c?u.slice(0,c).join(" ")+" ...":l},ae=function(){var O=x()(s()().mark(function l(){var c,g=arguments;return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return c=g.length>0&&g[0]!==void 0?g[0]:100,u.abrupt("return",new Promise(function(y){setTimeout(function(){y(!0)},c)}));case 2:case"end":return u.stop()}},l)}));return function(){return O.apply(this,arguments)}}(),U=function(){var O=x()(s()().mark(function l(){var c,g=arguments;return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return c=g.length>0&&g[0]!==void 0?g[0]:100,u.next=3,ae(c);case 3:case"end":return u.stop()}},l)}));return function(){return O.apply(this,arguments)}}(),Oe=ee.Z.Meta,Ve=function(){var l=(0,$.useModel)("@@initialState"),c=l.initialState,g=l.loading,m=l.refresh,u=l.setInitialState;console.log("initialState"),console.log(c),console.log("loading"),console.log(g);var y=(0,p.useState)(""),S=b()(y,2),V=S[0],G=S[1],j=(0,p.useState)(!1),t=b()(j,2),M=t[0],I=t[1],L=(0,p.useState)({}),Y=b()(L,2),Q=Y[0],J=Y[1],X=(0,p.useState)([]),h=b()(X,2),i=h[0],f=h[1],C=(0,p.useState)(null),v=b()(C,2),n=v[0],P=v[1],o=(0,p.useState)(0),w=b()(o,2),Z=w[0],W=w[1];return(0,p.useEffect)(function(){W(c==null?void 0:c.currentUser)},[]),(0,p.useEffect)(function(){return(0,$.request)("/api/categories",{}).then(function(D){var d=D.data.data.map(function(r,T){return{value:r==null?void 0:r.id,label:r==null?void 0:r.title}});return f(d),console.log("table_data"),console.log(d),d})},[]),(0,p.useEffect)(function(){i.length>0&&n===null&&P(i[0].value)},[i]),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"page-banner-wrapper",children:[(0,e.jsx)(H.Z,{children:(0,e.jsx)(B.Z,{xs:24,sm:24,md:24,lg:24,xl:24,children:(0,e.jsx)("div",{className:"page-banner-content",children:(0,e.jsx)("h1",{children:"Tutor Hiring"})})})}),(0,e.jsx)(H.Z,{justify:"center",children:(0,e.jsx)(B.Z,{xs:20,sm:20,md:20,lg:20,xl:20,children:(0,e.jsx)("div",{className:"tutors-grid-filters",style:{marginBlockEnd:"20px"},children:(0,e.jsxs)("div",{className:"tutor-search-field",children:[(0,e.jsx)(pe.Z,{size:"large",placeholder:"Search by Name or Email of Tutors",prefix:(0,e.jsx)(ue.Z,{}),style:{marginBlockEnd:"20px"},onChange:function(d){console.log("test search input"),console.log(d.target.value),G(d.target.value)}}),(0,e.jsx)(me.ZP.Group,{options:i,onChange:function(d){console.log("e.target.value"),console.log(d.target.value),P(d.target.value)},value:n,optionType:"button",buttonStyle:"solid"})]})})})})]}),(0,e.jsx)(fe.Rs,{pagination:{defaultPageSize:6,showSizeChanger:!0,pageSizeOptions:[6,9,10,20,50,100]},showActions:"hover",grid:{gutter:16,column:3},itemCardProps:{prefixCls:"tutors-grid"},params:{searchInput:V,selected_category_id:n},request:function(){var D=x()(s()().mark(function d(r,T,k){return s()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return console.log("tutors-hiring - params"),console.log(r),console.log("tutors-hiring - params - sort"),console.log(T),console.log("tutors-hiring - params - filter"),console.log(k),E.next=8,U(2e3);case 8:return E.next=10,(0,$.request)("/api/users",{params:{sort:N()({},T),pagination:N()({},r),role:"tutor",search:r==null?void 0:r.searchInput,category_id:r==null?void 0:r.selected_category_id}}).then(function(){var ne=x()(s()().mark(function ie(q){return s()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",{data:q.data.data,total:q.data.total,current_page:q.data.current_page});case 1:case"end":return R.stop()}},ie)}));return function(ie){return ne.apply(this,arguments)}}()).catch(function(ne){});case 10:return E.abrupt("return",E.sent);case 11:case"end":return E.stop()}},d)}));return function(d,r,T){return D.apply(this,arguments)}}(),metas:{content:{render:function(d,r){var T,k;return(0,e.jsxs)(ee.Z,{style:{width:"100%",height:"630px"},actions:[(0,e.jsx)(xe.Z,{title:"Thank you for visiting! Explore the details of this Tutor.",children:(0,e.jsx)(te.ZP,{type:"primary",icon:(0,e.jsx)(ce.Z,{}),size:"large",onClick:function(){J(r),I(!0)},children:"View Details"},"preview")})],cover:(0,e.jsx)("img",{alt:"example",src:r==null?void 0:r.image_url,style:{height:"300px"}}),children:[(0,e.jsx)("h2",{children:r==null?void 0:r.name}),(0,e.jsx)(Oe,{description:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{children:r!=null&&r.bio_data?ze(r==null?void 0:r.bio_data,18):""}),(0,e.jsxs)("p",{children:[(0,e.jsx)(he.Z,{})," ",r==null?void 0:r.email]}),(0,e.jsxs)("p",{children:[(0,e.jsx)(ge.Z,{})," ",(r==null||(T=r.qualifications)===null||T===void 0?void 0:T.length)>0?r.qualifications[0].degree:"-"]}),(0,e.jsxs)("p",{children:[(0,e.jsx)(ve.Z,{})," ",(r==null||(k=r.qualifications)===null||k===void 0?void 0:k.length)>0?r.qualifications[0].institute:"-"]})]})})]})}}}}),(0,e.jsx)(be,{visible:M,onVisiblityChange:function(d){var r=d.VisiblityStatus;I(r)},viewModelData:Q,waitTime:U,categoryId:n,userData:Z})]})},Me=Ve}}]);
